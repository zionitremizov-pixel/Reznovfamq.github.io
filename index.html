<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.5, user-scalable=yes">
    <title>Reznov FAMQ ‚Äî –£–≥–æ–ª–æ–≤–Ω—ã–π –∫–æ–¥–µ–∫—Å + –ê—Å—Å–∏—Å—Ç–µ–Ω—Ç</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
        }

        body {
            padding: 20px;
            line-height: 1.5;
            transition: background-color 0.5s ease, color 0.5s ease;
            position: relative;
            min-height: 100vh;
            overflow-x: hidden;
        }

        /* ========== –¢–Å–ú–ù–ê–Ø –¢–ï–ú–ê ========== */
        body.dark-theme {
            background: #0a0c0f;
            color: #ffffff;
        }
        body.dark-theme .container {
            background: rgba(18, 22, 28, 0.85);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        body.dark-theme .search-input {
            background: rgba(20, 26, 32, 0.7);
            border-color: rgba(255,255,255,0.1);
            color: white;
        }
        body.dark-theme .voice-btn,
        body.dark-theme .search-clear {
            background: rgba(30, 36, 44, 0.7);
            border-color: rgba(255,255,255,0.15);
            color: white;
        }

        /* ========== –°–í–ï–¢–õ–ê–Ø –¢–ï–ú–ê ========== */
        body.light-theme {
            background: #eef2f5;
            color: #1a1e24;
        }
        body.light-theme .container {
            background: rgba(255, 255, 255, 0.75);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(0, 0, 0, 0.08);
        }
        body.light-theme .search-input {
            background: rgba(255,255,255,0.7);
            border-color: rgba(0,0,0,0.08);
            color: #1a1e24;
        }
        body.light-theme .voice-btn,
        body.light-theme .search-clear {
            background: rgba(255,255,255,0.7);
            border-color: rgba(0,0,0,0.08);
            color: #1a1e24;
        }

        /* ========== –ó–í–Å–ó–î–ù–û–ï –ù–ï–ë–û ========== */
        #starfield {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 0;
        }

        /* ========== –í–û–õ–ù–´ –ù–ê –§–û–ù–ï ========== */
        .ocean-waves {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 0;
            opacity: 0.15;
        }

        .wave {
            position: absolute;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle at 50% 50%, rgba(196,30,58,0.1) 0%, transparent 60%);
            animation: waveFloat 25s infinite alternate;
        }

        .wave:nth-child(2) {
            background: radial-gradient(circle at 30% 70%, rgba(255,215,0,0.08) 0%, transparent 60%);
            animation-delay: -5s;
        }

        @keyframes waveFloat {
            0% { transform: translate(-10%, -10%) scale(1); opacity: 0.1; }
            100% { transform: translate(5%, 5%) scale(1.2); opacity: 0.15; }
        }

        .container {
            max-width: 1600px;
            margin: 0 auto;
            border-radius: 32px;
            padding: 32px;
            transition: all 0.5s ease;
            position: relative;
            z-index: 2;
            animation: fadeIn 1s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* ========== –ü–û–ò–°–ö ========== */
        .search-box {
            margin-bottom: 32px;
            display: flex;
            align-items: center;
            gap: 16px;
            flex-wrap: wrap;
        }

        .search-input {
            flex: 1;
            min-width: 300px;
            border-radius: 60px;
            padding: 20px 32px;
            font-size: 18px;
            outline: none;
            transition: all 0.5s ease;
            border: 2px solid;
            background: transparent;
            backdrop-filter: blur(10px);
        }

        .search-input:focus {
            transform: scale(1.02);
            border-color: #c41e3a !important;
            box-shadow: 0 0 30px rgba(196,30,58,0.3);
        }

        .voice-btn, .search-clear {
            padding: 18px 32px;
            border-radius: 50px;
            font-size: 17px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.4s ease;
            border: 1.5px solid;
            backdrop-filter: blur(10px);
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .voice-btn:hover, .search-clear:hover {
            transform: translateY(-4px);
            border-color: #c41e3a !important;
            background: rgba(196,30,58,0.15) !important;
            box-shadow: 0 15px 30px rgba(196,30,58,0.3);
        }

        .voice-btn.listening {
            animation: pulse-neon 1.5s infinite;
            border-color: #c41e3a;
            background: rgba(196,30,58,0.2);
        }

        @keyframes pulse-neon {
            0% { box-shadow: 0 0 10px #c41e3a; }
            50% { box-shadow: 0 0 30px #c41e3a, 0 0 60px #c41e3a; }
            100% { box-shadow: 0 0 10px #c41e3a; }
        }

        .results-info {
            padding: 12px 24px;
            border-radius: 50px;
            display: inline-block;
            margin-bottom: 20px;
            font-size: 16px;
            font-weight: 600;
            backdrop-filter: blur(10px);
            background: rgba(196,30,58,0.1);
            border: 1px solid rgba(196,30,58,0.3);
        }

        /* ========== –ù–ï–û–ù–û–í–´–ô –õ–û–ì–û–¢–ò–ü ========== */
        .logo {
            width: 80px;
            height: 80px;
            border-radius: 24px;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.5s ease;
            border: 2px solid;
            position: relative;
            overflow: hidden;
            animation: neonPulse 2s infinite alternate;
        }

        @keyframes neonPulse {
            0% { box-shadow: 0 0 5px #c41e3a, 0 0 10px #c41e3a, 0 0 20px #c41e3a; }
            100% { box-shadow: 0 0 10px #FFD700, 0 0 20px #FFD700, 0 0 40px #c41e3a; }
        }

        .logo span {
            font-size: 48px;
            font-weight: 800;
            background: linear-gradient(45deg, #c41e3a, #FFD700, #c41e3a);
            background-size: 200% 200%;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            animation: gradientShift 3s ease infinite;
        }

        @keyframes gradientShift {
            0% { background-position: 0% 50%; }
            100% { background-position: 100% 50%; }
        }

        /* ========== –í–°–ü–õ–´–í–ê–Æ–©–ò–ï –ü–û–î–°–ö–ê–ó–ö–ò ========== */
        [data-tooltip] {
            position: relative;
            cursor: help;
            border-bottom: 1px dotted rgba(196,30,58,0.5);
        }

        [data-tooltip]:before {
            content: attr(data-tooltip);
            position: absolute;
            bottom: 130%;
            left: 50%;
            transform: translateX(-50%);
            padding: 12px 18px;
            border-radius: 12px;
            font-size: 13px;
            white-space: normal;
            min-width: 280px;
            max-width: 400px;
            width: max-content;
            z-index: 1000;
            pointer-events: none;
            opacity: 0;
            transition: opacity 0.3s ease, transform 0.3s ease;
            background: rgba(10, 12, 16, 0.95);
            color: white;
            border: 1px solid rgba(196,30,58,0.5);
            backdrop-filter: blur(10px);
        }

        [data-tooltip]:hover:before {
            opacity: 1;
            transform: translateX(-50%) translateY(-5px);
        }

        body.light-theme [data-tooltip]:before {
            background: rgba(255,255,255,0.95);
            color: #1a1e24;
        }

        /* ========== –¢–ê–ë–õ–ò–¶–´ ========== */
        .table-wrapper {
            overflow-x: auto;
            border-radius: 20px;
            margin-top: 10px;
            transition: all 0.5s ease;
            border: 1px solid;
            backdrop-filter: blur(10px);
        }

        body.dark-theme .table-wrapper {
            background: rgba(18, 22, 28, 0.6);
            border-color: rgba(255,255,255,0.08);
        }

        table {
            width: 100%;
            border-collapse: collapse;
            font-size: 15px;
            min-width: 600px;
        }

        th {
            font-weight: 700;
            padding: 18px 16px;
            text-transform: uppercase;
            font-size: 14px;
            letter-spacing: 1.5px;
        }

        td {
            padding: 16px;
            transition: all 0.3s ease;
            border-bottom: 1px solid;
        }

        body.dark-theme td { border-bottom-color: rgba(255,255,255,0.05); }
        tr:hover td { background: rgba(196,30,58,0.1); }

        .bookmark-star {
            cursor: pointer;
            font-size: 18px;
            margin-right: 8px;
            transition: all 0.3s ease;
            display: inline-block;
        }
        .bookmark-star:hover { transform: scale(1.2); }
        .bookmark-star.active { color: #FFD700; }

        /* ========== –í–ö–õ–ê–î–ö–ò ========== */
        .tabs {
            display: flex;
            gap: 12px;
            margin-bottom: 32px;
            flex-wrap: wrap;
            border-bottom: 1px solid;
            padding-bottom: 20px;
        }

        .tab {
            padding: 14px 28px;
            font-size: 16px;
            font-weight: 600;
            border-radius: 50px;
            cursor: pointer;
            border: 1.5px solid transparent;
            backdrop-filter: blur(10px);
            transition: all 0.4s ease;
        }

        body.dark-theme .tab {
            color: rgba(255,255,255,0.7);
            background: rgba(30, 36, 44, 0.4);
        }

        .tab.active {
            background: #c41e3a !important;
            color: white !important;
            box-shadow: 0 0 20px rgba(196,30,58,0.6);
        }

        /* ========== –ö–û–ù–°–¢–†–£–ö–¢–û–† ========== */
        .protocol-builder {
            background: rgba(30, 36, 44, 0.6);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 24px;
            margin-bottom: 24px;
            border: 1px solid rgba(196,30,58,0.3);
        }

        .protocol-articles {
            display: flex;
            flex-wrap: wrap;
            gap: 12px;
            margin: 16px 0;
        }

        .protocol-article-tag {
            background: rgba(196,30,58,0.2);
            border: 1px solid rgba(196,30,58,0.5);
            border-radius: 30px;
            padding: 8px 16px;
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 14px;
        }

        .protocol-output {
            background: rgba(0,0,0,0.3);
            border-radius: 12px;
            padding: 16px;
            font-family: monospace;
            margin-top: 16px;
            border-left: 4px solid #c41e3a;
            white-space: pre-wrap;
        }

        /* ========== –¢–ï–°–¢ ========== */
        .quiz-container {
            background: rgba(30, 36, 44, 0.6);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 24px;
            margin-bottom: 24px;
        }

        .quiz-options {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 12px;
            margin: 20px 0;
        }

        .quiz-option {
            background: rgba(255,255,255,0.1);
            border: 1px solid rgba(255,255,255,0.2);
            border-radius: 12px;
            padding: 12px;
            cursor: pointer;
            transition: 0.3s;
        }

        .quiz-option:hover {
            background: rgba(196,30,58,0.2);
            border-color: #c41e3a;
        }

        .quiz-option.correct {
            background: rgba(0,255,0,0.2);
            border-color: #00ff00;
        }

        .quiz-option.wrong {
            background: rgba(255,0,0,0.2);
            border-color: #ff0000;
        }

        /* ========== –ì–û–õ–û–°–û–í–û–ô –ê–°–°–ò–°–¢–ï–ù–¢ ========== */
        .voice-assistant {
            position: fixed;
            bottom: 30px;
            right: 30px;
            width: 80px;
            height: 80px;
            border-radius: 50%;
            background: linear-gradient(145deg, #c41e3a, #8B0000);
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s ease;
            border: 3px solid rgba(255,255,255,0.3);
            z-index: 999;
            animation: assistantPulse 2s infinite;
        }

        @keyframes assistantPulse {
            0% { box-shadow: 0 0 10px #c41e3a; }
            100% { box-shadow: 0 0 30px #c41e3a, 0 0 60px #c41e3a; }
        }

        .voice-assistant:hover { transform: scale(1.1); }
        .voice-icon { font-size: 36px; color: white; }

        .assistant-modal {
            position: fixed;
            bottom: 120px;
            right: 30px;
            width: 380px;
            background: rgba(18, 22, 28, 0.95);
            backdrop-filter: blur(15px);
            border: 1px solid rgba(255,255,255,0.1);
            border-radius: 24px;
            padding: 24px;
            z-index: 998;
            display: none;
        }

        .chat-history {
            max-height: 400px;
            overflow-y: auto;
            margin-bottom: 20px;
            display: flex;
            flex-direction: column;
            gap: 16px;
        }

        .message {
            display: flex;
            gap: 12px;
            align-items: flex-start;
        }
        .message.user { flex-direction: row-reverse; }
        .message-avatar {
            width: 36px;
            height: 36px;
            border-radius: 50%;
            background: rgba(196,30,58,0.2);
            display: flex;
            align-items: center;
            justify-content: center;
        }
        .message-content {
            max-width: 70%;
            padding: 12px 16px;
            border-radius: 18px;
            background: rgba(255,255,255,0.1);
            font-size: 14px;
        }
        .message.user .message-content {
            background: rgba(196,30,58,0.2);
        }

        .footer {
            margin-top: 48px;
            text-align: center;
            font-size: 15px;
            border-top: 1px solid;
            padding-top: 24px;
            opacity: 0.8;
        }

        @media (max-width: 600px) {
            .container { padding: 20px; }
            .search-box { flex-direction: column; }
            .voice-btn, .search-clear { width: 100%; }
            .quiz-options { grid-template-columns: 1fr; }
            .assistant-modal {
                width: calc(100% - 40px);
                right: 20px;
                left: 20px;
            }
        }
    </style>
</head>
<body class="dark-theme">
    <!-- –ó–í–Å–ó–î–ù–û–ï –ù–ï–ë–û -->
    <canvas id="starfield"></canvas>

    <!-- –í–û–õ–ù–´ –ù–ê –§–û–ù–ï -->
    <div class="ocean-waves">
        <div class="wave"></div>
        <div class="wave"></div>
    </div>

    <!-- –≠–ö–†–ê–ù –í–•–û–î–ê -->
    <div id="loginScreen" style="position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.95); display: flex; justify-content: center; align-items: center; z-index: 9999; backdrop-filter: blur(15px);">
        <div style="border-radius: 32px; padding: 48px; max-width: 440px; width: 90%; text-align: center; background: rgba(18, 22, 28, 0.8); border: 1px solid rgba(255,255,255,0.1);">
            <div class="logo" style="margin: 0 auto 24px; width: 100px; height: 100px;">
                <span style="font-size: 60px;">R</span>
            </div>
            <div style="font-size: 28px; font-weight: 700; margin-bottom: 12px; color: white;">Reznov FAMQ</div>
            <div style="color: rgba(255,255,255,0.6); margin-bottom: 36px;">–ó–∞–∫—Ä—ã—Ç—ã–π —Ä–µ—Å—É—Ä—Å —Å–µ–º—å–∏</div>
            <input type="password" id="passwordInput" style="width: 100%; border-radius: 60px; padding: 18px 28px; font-size: 18px; margin-bottom: 24px; outline: none; border: 2px solid rgba(255,255,255,0.1); background: rgba(255,255,255,0.05); color: white;" placeholder="–í–≤–µ–¥–∏ –ø–∞—Ä–æ–ª—å" onkeypress="if(event.key==='Enter') checkPassword()">
            <button onclick="checkPassword()" style="width: 100%; padding: 18px 36px; border-radius: 60px; font-size: 18px; font-weight: 700; cursor: pointer; border: 2px solid #c41e3a; background: #c41e3a; color: white; letter-spacing: 2px;">–í–û–ô–¢–ò</button>
            <div id="loginError" style="color: #c41e3a; margin-top: 20px; display: none;">–ù–µ–≤–µ—Ä–Ω—ã–π –ø–∞—Ä–æ–ª—å</div>
        </div>
    </div>

    <!-- –û–°–ù–û–í–ù–û–ô –ö–û–ù–¢–ï–ù–¢ -->
    <div id="mainContent" style="display: none;">
        <div class="container">
            <!-- –®–ê–ü–ö–ê -->
            <div style="display: flex; align-items: center; gap: 24px; margin-bottom: 32px; border-bottom: 2px solid rgba(196,30,58,0.5); padding-bottom: 24px; flex-wrap: wrap;">
                <div class="logo" id="mainLogo">
                    <span>R</span>
                </div>
                <div style="flex: 1;">
                    <h1 style="font-size: 32px; font-weight: 700;">Reznov FAMQ ¬∑ –£–≥–æ–ª–æ–≤–Ω—ã–π –∫–æ–¥–µ–∫—Å</h1>
                    <div style="font-weight: 600; text-transform: uppercase; font-size: 15px; letter-spacing: 4px; border-left: 4px solid #c41e3a; padding-left: 16px; color: #ccc;">–ó–∞–∫–æ–Ω –µ—Å—Ç—å –∑–∞–∫–æ–Ω. –ú—ã ‚Äî Reznov</div>
                </div>
            </div>

            <!-- –ü–û–ò–°–ö -->
            <div class="search-box">
                <input type="text" id="searchInput" class="search-input" 
                       placeholder="üîç –í–≤–µ–¥–∏ —Å—Ç–∞—Ç—å—é, –Ω–∞–∑–≤–∞–Ω–∏–µ –∏–ª–∏ –Ω–∞–∫–∞–∑–∞–Ω–∏–µ..." 
                       onkeyup="searchArticles()" autocomplete="off">
                <button id="voiceBtn" class="voice-btn" onclick="startVoiceSearch()">
                    üé§ –ì–æ–ª–æ—Å
                </button>
                <button class="search-clear" onclick="clearSearch()">
                    ‚úï –°–±—Ä–æ—Å
                </button>
            </div>
            <div id="resultsCount" class="results-info" style="display: none;"></div>

            <!-- –í–ö–õ–ê–î–ö–ò -->
            <div class="tabs" id="mainTabs">
                <button class="tab active" onclick="showTab(1)">üìò –û–±—â–∞—è —á–∞—Å—Ç—å</button>
                <button class="tab" onclick="showTab(2)">üî´ –¢—è–∂–∫–∏–µ –ø—Ä–µ—Å—Ç—É–ø–ª–µ–Ω–∏—è</button>
                <button class="tab" onclick="showTab(3)">üí∞ –ò–º—É—â–µ—Å—Ç–≤–æ / –≠–∫–æ–Ω–æ–º–∏–∫–∞</button>
                <button class="tab" onclick="showTab(4)">üß™ –ù–∞—Ä–∫–æ—Ç–∏–∫–∏ / –û—Ä—É–∂–∏–µ</button>
                <button class="tab" onclick="showTab(5)">‚öñÔ∏è –î–æ–ª–∂–Ω–æ—Å—Ç–Ω—ã–µ / –í–ª–∞—Å—Ç—å</button>
                <button class="tab" onclick="showTab(6)">üèõÔ∏è –ü—Ä–∞–≤–æ—Å—É–¥–∏–µ / –ü–æ—Ä—è–¥–æ–∫</button>
                <button class="tab" onclick="showTab(7)">‚öîÔ∏è –í–æ–µ–Ω–Ω—ã–µ / –ì–æ—Å–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å</button>
                <button class="tab" onclick="showTab(8)">üìã –ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä</button>
                <button class="tab" onclick="showTab(9)">üìù –¢–µ—Å—Ç –£–ö</button>
                <button class="tab" onclick="showTab(10)">‚≠ê –ò–∑–±—Ä–∞–Ω–Ω–æ–µ</button>
                <button class="tab" onclick="showTab(11)">üë• –£—á–∞—Å—Ç–Ω–∏–∫–∏</button>
            </div>

            <!-- –¢–ê–ë–õ–ò–¶–´ -->
            <div id="tab1" class="table-wrapper"><table id="table1"><thead><tr><th>–°—Ç–∞—Ç—å—è</th><th>–ù–∞—Ä—É—à–µ–Ω–∏–µ</th><th>–ó–≤—ë–∑–¥—ã</th><th>–ù–∞–∫–∞–∑–∞–Ω–∏–µ</th><th></th></tr></thead><tbody id="table1-body"></tbody></table></div>
            <div id="tab2" class="table-wrapper" style="display: none;"><table id="table2"><thead><tr><th>–°—Ç–∞—Ç—å—è</th><th>–ù–∞—Ä—É—à–µ–Ω–∏–µ</th><th>–ó–≤—ë–∑–¥—ã</th><th>–ù–∞–∫–∞–∑–∞–Ω–∏–µ</th><th></th></tr></thead><tbody id="table2-body"></tbody></table></div>
            <div id="tab3" class="table-wrapper" style="display: none;"><table id="table3"><thead><tr><th>–°—Ç–∞—Ç—å—è</th><th>–ù–∞—Ä—É—à–µ–Ω–∏–µ</th><th>–ó–≤—ë–∑–¥—ã</th><th>–ù–∞–∫–∞–∑–∞–Ω–∏–µ</th><th></th></tr></thead><tbody id="table3-body"></tbody></table></div>
            <div id="tab4" class="table-wrapper" style="display: none;"><table id="table4"><thead><tr><th>–°—Ç–∞—Ç—å—è</th><th>–ù–∞—Ä—É—à–µ–Ω–∏–µ</th><th>–ó–≤—ë–∑–¥—ã</th><th>–ù–∞–∫–∞–∑–∞–Ω–∏–µ</th><th></th></tr></thead><tbody id="table4-body"></tbody></table></div>
            <div id="tab5" class="table-wrapper" style="display: none;"><table id="table5"><thead><tr><th>–°—Ç–∞—Ç—å—è</th><th>–ù–∞—Ä—É—à–µ–Ω–∏–µ</th><th>–ó–≤—ë–∑–¥—ã</th><th>–ù–∞–∫–∞–∑–∞–Ω–∏–µ</th><th></th></tr></thead><tbody id="table5-body"></tbody></table></div>
            <div id="tab6" class="table-wrapper" style="display: none;"><table id="table6"><thead><tr><th>–°—Ç–∞—Ç—å—è</th><th>–ù–∞—Ä—É—à–µ–Ω–∏–µ</th><th>–ó–≤—ë–∑–¥—ã</th><th>–ù–∞–∫–∞–∑–∞–Ω–∏–µ</th><th></th></tr></thead><tbody id="table6-body"></tbody></table></div>
            <div id="tab7" class="table-wrapper" style="display: none;"><table id="table7"><thead><tr><th>–°—Ç–∞—Ç—å—è</th><th>–ù–∞—Ä—É—à–µ–Ω–∏–µ</th><th>–ó–≤—ë–∑–¥—ã</th><th>–ù–∞–∫–∞–∑–∞–Ω–∏–µ</th><th></th></tr></thead><tbody id="table7-body"></tbody></table></div>

            <!-- –¢–ê–ë 8: –ö–û–ù–°–¢–†–£–ö–¢–û–† -->
            <div id="tab8" style="display: none;">
                <div class="protocol-builder">
                    <h3 style="font-size: 20px; margin-bottom: 16px;">üìã –ö–û–ù–°–¢–†–£–ö–¢–û–† –ü–†–û–¢–û–ö–û–õ–ê</h3>
                    <div style="display: flex; gap: 16px; margin-bottom: 20px;">
                        <input type="text" id="protocolSuspect" style="flex: 1; padding: 14px; border-radius: 30px; border: 1px solid rgba(255,255,255,0.1); background: rgba(0,0,0,0.2); color: inherit;" placeholder="–§–ò–û –∑–∞–¥–µ—Ä–∂–∞–Ω–Ω–æ–≥–æ">
                        <input type="text" id="protocolOfficer" style="flex: 1; padding: 14px; border-radius: 30px; border: 1px solid rgba(255,255,255,0.1); background: rgba(0,0,0,0.2); color: inherit;" placeholder="–í–∞—à –ø–æ–∑—ã–≤–Ω–æ–π">
                    </div>
                    <div id="protocolArticlesList" class="protocol-articles"></div>
                    <div style="display: flex; gap: 12px; margin-bottom: 16px;">
                        <button onclick="addArticleToProtocol()" style="background: rgba(196,30,58,0.2); border: 1px solid #c41e3a; color: inherit; padding: 12px 24px; border-radius: 30px; cursor: pointer;">+ –î–æ–±–∞–≤–∏—Ç—å —Å—Ç–∞—Ç—å—é</button>
                        <button onclick="generateProtocol()" style="background: #c41e3a; border: none; color: white; padding: 12px 24px; border-radius: 30px; cursor: pointer;">üéôÔ∏è –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å</button>
                        <button onclick="clearProtocol()" style="background: transparent; border: 1px solid rgba(255,255,255,0.2); color: inherit; padding: 12px 24px; border-radius: 30px; cursor: pointer;">–û—á–∏—Å—Ç–∏—Ç—å</button>
                    </div>
                    <div id="protocolOutput" class="protocol-output" style="display: none;"></div>
                </div>
            </div>

            <!-- –¢–ê–ë 9: –¢–ï–°–¢ -->
            <div id="tab9" style="display: none;">
                <div class="quiz-container">
                    <h3 style="font-size: 20px; margin-bottom: 24px;">üìù –¢–ï–°–¢ –ù–ê –ó–ù–ê–ù–ò–ï –£–ì–û–õ–û–í–ù–û–ì–û –ö–û–î–ï–ö–°–ê</h3>
                    <div id="quizArea"></div>
                    <div style="display: flex; gap: 12px; margin-top: 24px;">
                        <button onclick="loadNextQuestion()" style="background: #c41e3a; border: none; color: white; padding: 12px 24px; border-radius: 30px; cursor: pointer;">–°–ª–µ–¥—É—é—â–∏–π –≤–æ–ø—Ä–æ—Å ‚Üí</button>
                        <button onclick="resetQuiz()" style="background: transparent; border: 1px solid rgba(255,255,255,0.2); color: inherit; padding: 12px 24px; border-radius: 30px; cursor: pointer;">–ù–∞—á–∞—Ç—å –∑–∞–Ω–æ–≤–æ</button>
                    </div>
                </div>
            </div>

            <!-- –¢–ê–ë 10: –ò–ó–ë–†–ê–ù–ù–û–ï -->
            <div id="tab10" class="table-wrapper" style="display: none;">
                <table id="favoritesTable">
                    <thead><tr><th>–°—Ç–∞—Ç—å—è</th><th>–ù–∞—Ä—É—à–µ–Ω–∏–µ</th><th>–ó–≤—ë–∑–¥—ã</th><th>–ù–∞–∫–∞–∑–∞–Ω–∏–µ</th><th></th></tr></thead>
                    <tbody id="favoritesBody"></tbody>
                </table>
            </div>

            <!-- –¢–ê–ë 11: –£–ß–ê–°–¢–ù–ò–ö–ò -->
            <div id="tab11" style="display: none;">
                <div style="display: grid; grid-template-columns: repeat(auto-fill, minmax(280px, 1fr)); gap: 16px;">
                    <div style="background: rgba(30,36,44,0.6); backdrop-filter: blur(10px); border-radius: 20px; padding: 20px;">
                        <div style="font-size: 20px; font-weight: 700; margin-bottom: 16px;">üëë –õ–∏–¥–µ—Ä</div>
                        <div style="padding: 12px; background: rgba(196,30,58,0.1); border-radius: 12px;">Yaroslav Reznov</div>
                    </div>
                    <div style="background: rgba(30,36,44,0.6); backdrop-filter: blur(10px); border-radius: 20px; padding: 20px;">
                        <div style="font-size: 20px; font-weight: 700; margin-bottom: 16px;">‚öúÔ∏è –ó–∞–º–µ—Å—Ç–∏—Ç–µ–ª–∏</div>
                        <div style="display: flex; flex-direction: column; gap: 8px;">
                            <div style="padding: 12px; background: rgba(255,255,255,0.05); border-radius: 12px;">Ekaterina Reznova</div>
                            <div style="padding: 12px; background: rgba(255,255,255,0.05); border-radius: 12px;">Michael Reznov ADLR</div>
                            <div style="padding: 12px; background: rgba(255,255,255,0.05); border-radius: 12px;">Tony Reznov</div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="footer">Reznov FAMQ ¬∑ –£–≥–æ–ª–æ–≤–Ω—ã–π –∫–æ–¥–µ–∫—Å ¬∑ Majestic RP</div>
        </div>
    </div>

    <!-- –ì–û–õ–û–°–û–í–û–ô –ê–°–°–ò–°–¢–ï–ù–¢ -->
    <div class="voice-assistant" id="voiceAssistantBtn" onclick="toggleAssistant()">
        <span class="voice-icon">ü§ñ</span>
    </div>

    <div class="assistant-modal" id="assistantModal">
        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
            <div style="display: flex; align-items: center; gap: 10px;">
                <span style="font-size: 24px;">ü§ñ</span>
                <span style="font-size: 18px; font-weight: 700;">Reznov AI</span>
            </div>
            <span style="cursor: pointer; font-size: 24px;" onclick="toggleAssistant()">‚úï</span>
        </div>
        <div class="voice-command-hint" style="background: rgba(196,30,58,0.1); border-left: 4px solid #c41e3a; padding: 12px; margin-bottom: 16px; border-radius: 0 12px 12px 0;">
            üé§ <strong>–ì–æ–ª–æ—Å–æ–≤—ã–µ –∫–æ–º–∞–Ω–¥—ã:</strong> "–æ—Ç–∫—Ä–æ–π –æ–±—â—É—é —á–∞—Å—Ç—å", "–Ω–∞–π–¥–∏ —É–±–∏–π—Å—Ç–≤–æ", "—Ç—ë–º–Ω–∞—è —Ç–µ–º–∞", "–∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä", "—Ç–µ—Å—Ç"
        </div>
        <div class="chat-history" id="chatHistory"></div>
        <div style="display: flex; gap: 12px; align-items: center;">
            <button id="assistantMicBtn" style="width: 48px; height: 48px; border-radius: 50%; background: rgba(196,30,58,0.2); border: 1px solid rgba(196,30,58,0.5); color: #c41e3a; font-size: 20px; cursor: pointer;" onclick="startAssistantVoice()">üé§</button>
            <input type="text" id="assistantInput" style="flex: 1; padding: 14px 18px; border-radius: 50px; border: 1px solid rgba(255,255,255,0.1); background: rgba(255,255,255,0.05); color: inherit;" placeholder="–ù–∞–ø–∏—à–∏—Ç–µ –≤–æ–ø—Ä–æ—Å..." onkeypress="if(event.key==='Enter') sendAssistantMessage()">
            <button style="width: 48px; height: 48px; border-radius: 50%; background: #c41e3a; border: none; color: white; font-size: 20px; cursor: pointer;" onclick="sendAssistantMessage()">‚û§</button>
        </div>
    </div>

    <script>
        // ========== –ë–ê–ó–ê –ó–ù–ê–ù–ò–ô –£–ö ==========
        const lawDatabase = [
            { article: '6.2', title: '–£–±–∏–π—Å—Ç–≤–æ', stars: '‚òÖ‚òÖ‚òÖ‚òÖ', penalty: '4 –≥–æ–¥–∞', description: '–£–º—ã—à–ª–µ–Ω–Ω–æ–µ –ø—Ä–∏—á–∏–Ω–µ–Ω–∏–µ —Å–º–µ—Ä—Ç–∏ –¥—Ä—É–≥–æ–º—É —á–µ–ª–æ–≤–µ–∫—É.', details: '–¢—è–∂–∫–æ–µ –ø—Ä–µ—Å—Ç—É–ø–ª–µ–Ω–∏–µ. –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç —Ä–æ–∑—ã—Å–∫–∞ ‚òÖ‚òÖ‚òÖ‚òÖ.' },
            { article: '6.1.1', title: '–ü–æ–±–æ–∏ —Å –ø—Ä–µ–¥–º–µ—Ç–æ–º', stars: '‚òÖ‚òÖ‚òÖ', penalty: '3 –≥–æ–¥–∞ / $35,000', description: '–£–º—ã—à–ª–µ–Ω–Ω–æ–µ –Ω–∞–Ω–µ—Å–µ–Ω–∏–µ —Ç–µ–ª–µ—Å–Ω—ã—Ö –ø–æ–≤—Ä–µ–∂–¥–µ–Ω–∏–π —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –ø—Ä–µ–¥–º–µ—Ç–æ–≤.', details: '–ü—Ä–µ—Å—Ç—É–ø–ª–µ–Ω–∏–µ —Å—Ä–µ–¥–Ω–µ–π —Ç—è–∂–µ—Å—Ç–∏.' },
            { article: '6.1.2', title: '–ü–æ–±–æ–∏ —Ä—É–∫–∞–º–∏', stars: '‚òÖ‚òÖ', penalty: '2 –≥–æ–¥–∞ / $45,000', description: '–£–º—ã—à–ª–µ–Ω–Ω–æ–µ –Ω–∞–Ω–µ—Å–µ–Ω–∏–µ —Ç–µ–ª–µ—Å–Ω—ã—Ö –ø–æ–≤—Ä–µ–∂–¥–µ–Ω–∏–π –±–µ–∑ –ø—Ä–µ–¥–º–µ—Ç–æ–≤.', details: '–®—Ç—Ä–∞—Ñ –≤—ã—à–µ, —á–µ–º —Å –ø—Ä–µ–¥–º–µ—Ç–æ–º.' },
            { article: '6.5', title: '–°–º–µ—Ä—Ç—å –ø–æ –Ω–µ–æ—Å—Ç–æ—Ä–æ–∂–Ω–æ—Å—Ç–∏', stars: '‚òÖ‚òÖ‚òÖ', penalty: '3 –≥–æ–¥–∞ / $35,000', description: '–ü—Ä–∏—á–∏–Ω–µ–Ω–∏–µ —Å–º–µ—Ä—Ç–∏ –ø–æ –Ω–µ–æ—Å—Ç–æ—Ä–æ–∂–Ω–æ—Å—Ç–∏.', details: '–û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –ø—Ä—è–º–æ–≥–æ —É–º—ã—Å–ª–∞.' },
            { article: '6.7.1', title: '–£–≥—Ä–æ–∑–∞ –≥–æ—Å—Å–ª—É–∂–∞—â–µ–º—É', stars: '‚òÖ‚òÖ‚òÖ‚òÖ', penalty: '4 –≥–æ–¥–∞ / $45,000', description: '–£–≥—Ä–æ–∑–∞ —Ä–∞—Å–ø—Ä–∞–≤–æ–π –¥–æ–ª–∂–Ω–æ—Å—Ç–Ω–æ–º—É –ª–∏—Ü—É.', details: '–¢—è–∂–∫–æ–µ –ø—Ä–µ—Å—Ç—É–ø–ª–µ–Ω–∏–µ.' },
            { article: '6.7.2', title: '–£–≥—Ä–æ–∑–∞ –∑–∞–ø—É–≥–∞—Ç—å', stars: '‚òÖ‚òÖ‚òÖ', penalty: '3 –≥–æ–¥–∞ / $35,000', description: '–£–≥—Ä–æ–∑—ã —Å —Ü–µ–ª—å—é –∑–∞–ø—É–≥–∞—Ç—å —á–µ–ª–æ–≤–µ–∫–∞.', details: '–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç —Ä–æ–∑—ã—Å–∫–∞ ‚òÖ‚òÖ‚òÖ.' },
            { article: '6.7.3', title: '–£–≥—Ä–æ–∑–∞ —Å –æ—Ä—É–∂–∏–µ–º', stars: '‚òÖ‚òÖ‚òÖ‚òÖ', penalty: '4 –≥–æ–¥–∞ / $60,000', description: '–£–≥—Ä–æ–∑—ã —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –æ—Ä—É–∂–∏—è.', details: '–ü–æ–≤—ã—à–µ–Ω–Ω—ã–π —à—Ç—Ä–∞—Ñ.' },
            { article: '7.1', title: '–ü–æ—Ö–∏—â–µ–Ω–∏–µ —á–µ–ª–æ–≤–µ–∫–∞', stars: '‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ', penalty: '5 –ª–µ—Ç', description: '–ü–æ—Ö–∏—â–µ–Ω–∏–µ —á–µ–ª–æ–≤–µ–∫–∞.', details: '–û—Å–æ–±–æ —Ç—è–∂–∫–æ–µ –ø—Ä–µ—Å—Ç—É–ø–ª–µ–Ω–∏–µ.' },
            { article: '10.1.1', title: '–ö—Ä–∞–∂–∞ –æ—Ç $2,000', stars: '‚òÖ', penalty: '1 –≥–æ–¥ / $25,000', description: '–¢–∞–π–Ω–æ–µ —Ö–∏—â–µ–Ω–∏–µ —á—É–∂–æ–≥–æ –∏–º—É—â–µ—Å—Ç–≤–∞ –æ—Ç 2.000$', details: '–ü—Ä–µ—Å—Ç—É–ø–ª–µ–Ω–∏–µ –Ω–µ–±–æ–ª—å—à–æ–π —Ç—è–∂–µ—Å—Ç–∏.' },
            { article: '10.1.2', title: '–ö—Ä–∞–∂–∞ –æ—Ç $5,000', stars: '‚òÖ‚òÖ', penalty: '2 –≥–æ–¥–∞ / $35,000', description: '–¢–∞–π–Ω–æ–µ —Ö–∏—â–µ–Ω–∏–µ —á—É–∂–æ–≥–æ –∏–º—É—â–µ—Å—Ç–≤–∞ –æ—Ç 5.000$', details: '–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç —Ä–æ–∑—ã—Å–∫–∞ ‚òÖ‚òÖ.' },
            { article: '10.1.3', title: '–ö—Ä–∞–∂–∞ –æ—Ç $10,000', stars: '‚òÖ‚òÖ‚òÖ', penalty: '3 –≥–æ–¥–∞ / $45,000', description: '–¢–∞–π–Ω–æ–µ —Ö–∏—â–µ–Ω–∏–µ —á—É–∂–æ–≥–æ –∏–º—É—â–µ—Å—Ç–≤–∞ –æ—Ç 10.000$', details: '–ü—Ä–µ—Å—Ç—É–ø–ª–µ–Ω–∏–µ —Å—Ä–µ–¥–Ω–µ–π —Ç—è–∂–µ—Å—Ç–∏.' },
            { article: '10.1.4', title: '–ö—Ä–∞–∂–∞ –æ—Ç $30,000', stars: '‚òÖ‚òÖ‚òÖ‚òÖ', penalty: '4 –≥–æ–¥–∞ / $55,000', description: '–¢–∞–π–Ω–æ–µ —Ö–∏—â–µ–Ω–∏–µ —á—É–∂–æ–≥–æ –∏–º—É—â–µ—Å—Ç–≤–∞ –æ—Ç 30.000$', details: '–¢—è–∂–∫–æ–µ –ø—Ä–µ—Å—Ç—É–ø–ª–µ–Ω–∏–µ.' },
            { article: '10.2', title: '–ú–æ—à–µ–Ω–Ω–∏—á–µ—Å—Ç–≤–æ', stars: '‚òÖ‚òÖ', penalty: '2 –≥–æ–¥–∞ / $15,000', description: '–•–∏—â–µ–Ω–∏–µ –∏–º—É—â–µ—Å—Ç–≤–∞ –ø—É—Ç–µ–º –æ–±–º–∞–Ω–∞.', details: '–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç —Ä–æ–∑—ã—Å–∫–∞ ‚òÖ‚òÖ.' },
            { article: '10.3', title: '–ì—Ä–∞–±–µ–∂', stars: '‚òÖ‚òÖ‚òÖ', penalty: '3 –≥–æ–¥–∞ / $25,000', description: '–û—Ç–∫—Ä—ã—Ç–æ–µ —Ö–∏—â–µ–Ω–∏–µ –∏–º—É—â–µ—Å—Ç–≤–∞.', details: '–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç —Ä–æ–∑—ã—Å–∫–∞ ‚òÖ‚òÖ‚òÖ.' },
            { article: '10.4', title: '–†–∞–∑–±–æ–π', stars: '‚òÖ‚òÖ‚òÖ‚òÖ', penalty: '4 –≥–æ–¥–∞', description: '–ù–∞–ø–∞–¥–µ–Ω–∏–µ —Å –Ω–∞—Å–∏–ª–∏–µ–º, –æ–ø–∞—Å–Ω—ã–º –¥–ª—è –∂–∏–∑–Ω–∏.', details: '–¢—è–∂–∫–æ–µ –ø—Ä–µ—Å—Ç—É–ø–ª–µ–Ω–∏–µ.' },
            { article: '10.5.1', title: '–£–≥–æ–Ω –∞–≤—Ç–æ', stars: '‚òÖ‚òÖ‚òÖ', penalty: '3 –≥–æ–¥–∞ / $30,000', description: '–ù–µ–ø—Ä–∞–≤–æ–º–µ—Ä–Ω–æ–µ –∑–∞–≤–ª–∞–¥–µ–Ω–∏–µ –∞–≤—Ç–æ–º–æ–±–∏–ª–µ–º.', details: '–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç —Ä–æ–∑—ã—Å–∫–∞ ‚òÖ‚òÖ‚òÖ.' },
            { article: '10.5.2', title: '–£–≥–æ–Ω –≥–æ—Å. —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∞', stars: '‚òÖ‚òÖ‚òÖ‚òÖ', penalty: '4 –≥–æ–¥–∞ / $45,000', description: '–£–≥–æ–Ω —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∞, –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∞—â–µ–≥–æ –≥–æ—Å—É–¥–∞—Ä—Å—Ç–≤—É.', details: '–¢—è–∂–∫–æ–µ –ø—Ä–µ—Å—Ç—É–ø–ª–µ–Ω–∏–µ.' },
            { article: '10.6.1', title: '–£–Ω–∏—á—Ç–æ–∂–µ–Ω–∏–µ –∏–º—É—â–µ—Å—Ç–≤–∞', stars: '‚òÖ‚òÖ', penalty: '2 –≥–æ–¥–∞ / $15,000', description: '–£–º—ã—à–ª–µ–Ω–Ω–æ–µ —É–Ω–∏—á—Ç–æ–∂–µ–Ω–∏–µ —á—É–∂–æ–≥–æ –∏–º—É—â–µ—Å—Ç–≤–∞.', details: '–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç —Ä–æ–∑—ã—Å–∫–∞ ‚òÖ‚òÖ.' },
            { article: '10.6.2', title: '–£–Ω–∏—á—Ç–æ–∂–µ–Ω–∏–µ –≥–æ—Å. –∏–º—É—â–µ—Å—Ç–≤–∞', stars: '‚òÖ‚òÖ‚òÖ‚òÖ', penalty: '4 –≥–æ–¥–∞ / $60,000', description: '–£–Ω–∏—á—Ç–æ–∂–µ–Ω–∏–µ –≥–æ—Å—É–¥–∞—Ä—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ –∏–º—É—â–µ—Å—Ç–≤–∞.', details: '–¢—è–∂–∫–æ–µ –ø—Ä–µ—Å—Ç—É–ø–ª–µ–Ω–∏–µ.' },
            { article: '10.6.3', title: '–ü–æ–¥–∂–æ–≥ / –≤–∑—Ä—ã–≤', stars: '‚òÖ‚òÖ‚òÖ‚òÖ', penalty: '4 –≥–æ–¥–∞ / $50,000', description: '–£–Ω–∏—á—Ç–æ–∂–µ–Ω–∏–µ –∏–º—É—â–µ—Å—Ç–≤–∞ –ø–æ–¥–∂–æ–≥–æ–º –∏–ª–∏ –≤–∑—Ä—ã–≤–æ–º.', details: '–¢—è–∂–∫–æ–µ –ø—Ä–µ—Å—Ç—É–ø–ª–µ–Ω–∏–µ.' },
            { article: '10.7', title: '–í—ã–º–æ–≥–∞—Ç–µ–ª—å—Å—Ç–≤–æ', stars: '‚òÖ‚òÖ‚òÖ', penalty: '3 –≥–æ–¥–∞ / $25,000', description: '–¢—Ä–µ–±–æ–≤–∞–Ω–∏–µ –ø–µ—Ä–µ–¥–∞—á–∏ –∏–º—É—â–µ—Å—Ç–≤–∞ –ø–æ–¥ —É–≥—Ä–æ–∑–æ–π.', details: '–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç —Ä–æ–∑—ã—Å–∫–∞ ‚òÖ‚òÖ‚òÖ.' },
            { article: '12.8.1', title: '–•—Ä–∞–Ω–µ–Ω–∏–µ –æ—Ä—É–∂–∏—è', stars: '‚òÖ‚òÖ‚òÖ‚òÖ', penalty: '4 –≥–æ–¥–∞ / $40,000', description: '–ù–µ–∑–∞–∫–æ–Ω–Ω–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ, –Ω–æ—à–µ–Ω–∏–µ –æ—Ä—É–∂–∏—è.', details: '–¢—è–∂–∫–æ–µ –ø—Ä–µ—Å—Ç—É–ø–ª–µ–Ω–∏–µ.' },
            { article: '12.8.2', title: '–û—Ä—É–∂–∏–µ –≥–æ—Å. –æ–±—Ä–∞–∑—Ü–∞', stars: '‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ', penalty: '5 –ª–µ—Ç', description: '–ì–æ—Å. –æ—Ä—É–∂–∏–µ —É –≥—Ä–∞–∂–¥–∞–Ω—Å–∫–æ–≥–æ –ª–∏—Ü–∞.', details: '–û—Å–æ–±–æ —Ç—è–∂–∫–æ–µ –ø—Ä–µ—Å—Ç—É–ø–ª–µ–Ω–∏–µ.' },
            { article: '13.1.1', title: '–ù–∞—Ä–∫–æ—Ç–∏–∫–∏ 6‚Äì10 –≥—Ä', stars: '‚òÖ‚òÖ‚òÖ', penalty: '3 –≥–æ–¥–∞ / $50,000', description: '–•—Ä–∞–Ω–µ–Ω–∏–µ –Ω–∞—Ä–∫–æ—Ç–∏–∫–æ–≤ –æ—Ç 6 –¥–æ 10 –≥—Ä–∞–º–º.', details: '–î–æ 5 –≥—Ä - –ª–µ–≥–∞–ª—å–Ω–æ.' },
            { article: '13.1.2', title: '–ù–∞—Ä–∫–æ—Ç–∏–∫–∏ 11+ –≥—Ä', stars: '‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ', penalty: '5 –ª–µ—Ç', description: '–•—Ä–∞–Ω–µ–Ω–∏–µ –Ω–∞—Ä–∫–æ—Ç–∏–∫–æ–≤ –æ—Ç 11 –≥—Ä–∞–º–º.', details: '–û—Å–æ–±–æ —Ç—è–∂–∫–æ–µ –ø—Ä–µ—Å—Ç—É–ø–ª–µ–Ω–∏–µ.' },
            { article: '13.2', title: '–ü—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–æ –Ω–∞—Ä–∫–æ—Ç–∏–∫–æ–≤', stars: '‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ', penalty: '5 –ª–µ—Ç / $60,000', description: '–í—ã—Ä–∞—â–∏–≤–∞–Ω–∏–µ –∏ –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–æ –Ω–∞—Ä–∫–æ—Ç–∏–∫–æ–≤.', details: '–û—Å–æ–±–æ —Ç—è–∂–∫–æ–µ –ø—Ä–µ—Å—Ç—É–ø–ª–µ–Ω–∏–µ.' },
            { article: '17.1', title: '–ü–æ—Å—è–≥–∞—Ç–µ–ª—å—Å—Ç–≤–æ –Ω–∞ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞', stars: '‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ', penalty: '5 –ª–µ—Ç', description: '–ü–æ—Å—è–≥–∞—Ç–µ–ª—å—Å—Ç–≤–æ –Ω–∞ –∂–∏–∑–Ω—å —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞.', details: '–û—Å–æ–±–æ —Ç—è–∂–∫–æ–µ –ø—Ä–µ—Å—Ç—É–ø–ª–µ–Ω–∏–µ.' },
            { article: '17.2', title: '–ù–∞—Å–∏–ª–∏–µ –≤ –æ—Ç–Ω–æ—à–µ–Ω–∏–∏ –≤–ª–∞—Å—Ç–∏', stars: '‚òÖ‚òÖ‚òÖ‚òÖ', penalty: '4 –≥–æ–¥–∞', description: '–ù–∞–Ω–µ—Å–µ–Ω–∏–µ –ø–æ–≤—Ä–µ–∂–¥–µ–Ω–∏–π –ø—Ä–µ–¥—Å—Ç–∞–≤–∏—Ç–µ–ª—é –≤–ª–∞—Å—Ç–∏.', details: '–¢—è–∂–∫–æ–µ –ø—Ä–µ—Å—Ç—É–ø–ª–µ–Ω–∏–µ.' },
            { article: '17.3', title: '–û—Å–∫–æ—Ä–±–ª–µ–Ω–∏–µ –≤–ª–∞—Å—Ç–∏', stars: '‚òÖ‚òÖ‚òÖ', penalty: '3 –≥–æ–¥–∞ / $20-60k', description: '–û—Å–∫–æ—Ä–±–ª–µ–Ω–∏–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–∏—Ç–µ–ª—è –≤–ª–∞—Å—Ç–∏.', details: '–£–Ω–∏–∂–µ–Ω–∏–µ —á–µ—Å—Ç–∏ –∏ –¥–æ—Å—Ç–æ–∏–Ω—Å—Ç–≤–∞.' },
            { article: '17.6', title: '–ù–µ–ø–æ–¥—á–∏–Ω–µ–Ω–∏–µ', stars: '‚òÖ‚òÖ‚òÖ', penalty: '3 –≥–æ–¥–∞ / $20-60k', description: '–ù–µ–ø–æ–≤–∏–Ω–æ–≤–µ–Ω–∏–µ –∑–∞–∫–æ–Ω–Ω–æ–º—É —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—é.', details: '–û—Ç–∫–∞–∑ —Å–Ω—è—Ç—å –º–∞—Å–∫—É - –Ω–µ –Ω–∞—Ä—É—à–µ–Ω–∏–µ.' },
            { article: '17.7', title: '–û—Ç–∫–∞–∑ –æ—Ç —à—Ç—Ä–∞—Ñ–∞', stars: '‚òÖ‚òÖ‚òÖ', penalty: '3 –≥–æ–¥–∞', description: '–û—Ç–∫–∞–∑ –æ—Ç –æ–ø–ª–∞—Ç—ã —à—Ç—Ä–∞—Ñ–∞.', details: '–í–æ–∑–≤—Ä–∞—Ç –∏–ª–∏ –ø–æ—Ä—á–∞ —Ç–∏–∫–µ—Ç–∞.' }
        ];

        // ========== –ó–í–Å–ó–î–ù–û–ï –ù–ï–ë–û ==========
        const canvas = document.getElementById('starfield');
        const ctx = canvas.getContext('2d');
        let stars = [];
        let mouseX = 0, mouseY = 0;

        function initStars() {
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;
            stars = [];
            for (let i = 0; i < 200; i++) {
                stars.push({
                    x: Math.random() * canvas.width,
                    y: Math.random() * canvas.height,
                    size: Math.random() * 2 + 0.5,
                    baseX: 0,
                    baseY: 0
                });
            }
        }

        function drawStars() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            stars.forEach(star => {
                if (star.baseX === 0) {
                    star.baseX = star.x;
                    star.baseY = star.y;
                }
                const dx = mouseX - star.x;
                const dy = mouseY - star.y;
                const dist = Math.sqrt(dx * dx + dy * dy);
                if (dist < 200) {
                    star.x += (dx / (dist + 1)) * 0.2;
                    star.y += (dy / (dist + 1)) * 0.2;
                }
                star.x += (star.baseX - star.x) * 0.01;
                star.y += (star.baseY - star.y) * 0.01;
                ctx.beginPath();
                ctx.arc(star.x, star.y, star.size, 0, Math.PI * 2);
                ctx.fillStyle = 'rgba(255,255,255,0.8)';
                ctx.fill();
            });
            requestAnimationFrame(drawStars);
        }

        window.addEventListener('mousemove', (e) => { mouseX = e.clientX; mouseY = e.clientY; });
        window.addEventListener('resize', initStars);

        // ========== –ó–ê–ì–†–£–ó–ö–ê –¢–ê–ë–õ–ò–¶ ==========
        function initTables() {
            for (let i = 1; i <= 7; i++) {
                const tbody = document.getElementById(`table${i}-body`);
                if (tbody) {
                    tbody.innerHTML = lawDatabase.map(law => `
                        <tr>
                            <td>${law.article}</td>
                            <td data-tooltip="${law.description} ${law.details}">${law.title}</td>
                            <td class="stars">${law.stars}</td>
                            <td>${law.penalty}</td>
                            <td><span class="bookmark-star" onclick="toggleFavorite('${law.article}', '${law.title}', '${law.stars}', '${law.penalty}')">‚òÜ</span></td>
                        </tr>
                    `).join('');
                }
            }
        }

        // ========== –ü–û–ò–°–ö ==========
        function searchArticles() {
            const searchText = document.getElementById('searchInput').value.toLowerCase().trim();
            let totalResults = 0;
            
            if (searchText === '') {
                // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –≤—Å–µ —Å—Ç—Ä–æ–∫–∏
                for (let i = 1; i <= 7; i++) {
                    const table = document.getElementById('table' + i);
                    if (table) {
                        const rows = table.querySelectorAll('tbody tr');
                        rows.forEach(row => row.style.display = '');
                    }
                    document.getElementById('tab' + i).style.display = i === 1 ? 'block' : 'none';
                }
                document.getElementById('resultsCount').style.display = 'none';
                showTab(1);
                return;
            }
            
            // –ò—â–µ–º –ø–æ –≤—Å–µ–º —Ç–∞–±–ª–∏—Ü–∞–º
            for (let i = 1; i <= 7; i++) {
                const table = document.getElementById('table' + i);
                if (!table) continue;
                
                const rows = table.querySelectorAll('tbody tr');
                let tableResults = 0;
                
                rows.forEach(row => {
                    const text = row.textContent.toLowerCase();
                    if (text.includes(searchText)) {
                        row.style.display = '';
                        tableResults++;
                        totalResults++;
                    } else {
                        row.style.display = 'none';
                    }
                });
                
                document.getElementById('tab' + i).style.display = tableResults > 0 ? 'block' : 'none';
            }
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
            const resultsCount = document.getElementById('resultsCount');
            resultsCount.textContent = totalResults > 0 ? `üîç –ù–∞–π–¥–µ–Ω–æ —Å—Ç–∞—Ç–µ–π: ${totalResults}` : `üîç –ù–∏—á–µ–≥–æ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ`;
            resultsCount.style.display = 'inline-block';
            
            // –ê–∫—Ç–∏–≤–∏—Ä—É–µ–º –ø–µ—Ä–≤—É—é –≤–∫–ª–∞–¥–∫—É —Å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º–∏
            const tabs = document.querySelectorAll('.tab');
            tabs.forEach(tab => tab.classList.remove('active'));
            for (let i = 1; i <= 7; i++) {
                if (document.getElementById('tab' + i).style.display === 'block') {
                    tabs[i-1].classList.add('active');
                    break;
                }
            }
        }

        function clearSearch() {
            document.getElementById('searchInput').value = '';
            document.getElementById('resultsCount').style.display = 'none';
            
            for (let i = 1; i <= 7; i++) {
                const table = document.getElementById('table' + i);
                if (table) {
                    const rows = table.querySelectorAll('tbody tr');
                    rows.forEach(row => row.style.display = '');
                }
                document.getElementById('tab' + i).style.display = i === 1 ? 'block' : 'none';
            }
            showTab(1);
        }

        // ========== –ì–û–õ–û–°–û–í–û–ô –ü–û–ò–°–ö ==========
        function startVoiceSearch() {
            if (!('webkitSpeechRecognition' in window)) {
                alert('–ì–æ–ª–æ—Å–æ–≤–æ–π –ø–æ–∏—Å–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ Chrome/Edge');
                return;
            }
            
            const btn = document.getElementById('voiceBtn');
            btn.classList.add('listening');
            btn.textContent = 'üé§ –°–ª—É—à–∞—é...';
            
            const recognition = new webkitSpeechRecognition();
            recognition.lang = 'ru-RU';
            
            recognition.onresult = (e) => {
                const speechText = e.results[0][0].transcript;
                document.getElementById('searchInput').value = speechText;
                searchArticles();
                btn.classList.remove('listening');
                btn.textContent = 'üé§ –ì–æ–ª–æ—Å';
            };
            
            recognition.onerror = () => {
                btn.classList.remove('listening');
                btn.textContent = 'üé§ –ì–æ–ª–æ—Å';
            };
            
            recognition.start();
        }

        // ========== –ó–ê–ö–õ–ê–î–ö–ò ==========
        let favorites = JSON.parse(localStorage.getItem('reznovFavorites')) || [];

        function toggleFavorite(article, violation, stars, penalty) {
            const star = event.currentTarget;
            const index = favorites.findIndex(f => f.article === article);
            
            if (index === -1) {
                favorites.push({ article, violation, stars, penalty });
                star.textContent = '‚≠ê';
                star.classList.add('active');
            } else {
                favorites.splice(index, 1);
                star.textContent = '‚òÜ';
                star.classList.remove('active');
            }
            
            localStorage.setItem('reznovFavorites', JSON.stringify(favorites));
            updateFavoritesTab();
        }

        function updateFavoritesTab() {
            const tbody = document.getElementById('favoritesBody');
            if (!tbody) return;
            tbody.innerHTML = favorites.map(f => `
                <tr>
                    <td>${f.article}</td>
                    <td>${f.violation}</td>
                    <td class="stars">${f.stars}</td>
                    <td>${f.penalty}</td>
                    <td><span class="bookmark-star active" onclick="toggleFavorite('${f.article}', '${f.violation}', '${f.stars}', '${f.penalty}')">‚≠ê</span></td>
                </tr>
            `).join('');
        }

        // ========== –ö–û–ù–°–¢–†–£–ö–¢–û–† ==========
        let protocolArticles = [];

        function addArticleToProtocol() {
            const article = prompt("–í–≤–µ–¥–∏ –Ω–æ–º–µ—Ä —Å—Ç–∞—Ç—å–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä 6.2):");
            if (article) {
                const law = lawDatabase.find(l => l.article === article);
                if (law) {
                    protocolArticles.push(law);
                    renderProtocolList();
                }
            }
        }

        function renderProtocolList() {
            const container = document.getElementById('protocolArticlesList');
            container.innerHTML = protocolArticles.map((law, index) => `
                <div class="protocol-article-tag">
                    <span>${law.article} - ${law.title}</span>
                    <button onclick="removeProtocolArticle(${index})" style="background: none; border: none; color: inherit; cursor: pointer;">‚úï</button>
                </div>
            `).join('');
        }

        function removeProtocolArticle(index) {
            protocolArticles.splice(index, 1);
            renderProtocolList();
        }

        function generateProtocol() {
            const suspect = document.getElementById('protocolSuspect').value || '–ù–µ–∏–∑–≤–µ—Å—Ç–Ω—ã–π';
            const officer = document.getElementById('protocolOfficer').value || '–°–æ—Ç—Ä—É–¥–Ω–∏–∫';
            
            let articlesText = protocolArticles.map(l => 
                `‚Ä¢ ${l.article} - ${l.title} (${l.penalty})`
            ).join('\n');

            const protocol = `
[ –ü–†–û–¢–û–ö–û–õ –ó–ê–î–ï–†–ñ–ê–ù–ò–Ø ]
–ó–∞–¥–µ—Ä–∂–∞–Ω–Ω—ã–π: ${suspect}
–ó–∞–¥–µ—Ä–∂–∞–ª: ${officer}
–î–∞—Ç–∞: ${new Date().toLocaleDateString()}
–í—Ä–µ–º—è: ${new Date().toLocaleTimeString()}

–ò–Ω–∫—Ä–∏–º–∏–Ω–∏—Ä—É–µ–º—ã–µ —Å—Ç–∞—Ç—å–∏:
${articlesText || '‚Ä¢ –ù–µ –≤—ã–±—Ä–∞–Ω–æ'}

–ü—Ä–∞–≤–∞ –ú–∏—Ä–∞–Ω–¥—ã –∑–∞—á–∏—Ç–∞–Ω—ã. –ù–∞—Ä—É—á–Ω–∏–∫–∏ –Ω–∞–¥–µ—Ç—ã.
            `;

            const output = document.getElementById('protocolOutput');
            output.style.display = 'block';
            output.textContent = protocol;
        }

        function clearProtocol() {
            protocolArticles = [];
            renderProtocolList();
            document.getElementById('protocolSuspect').value = '';
            document.getElementById('protocolOfficer').value = '';
            document.getElementById('protocolOutput').style.display = 'none';
        }

        // ========== –¢–ï–°–¢ ==========
        let currentQuestion = 0;
        let score = 0;
        const quizQuestions = [
            {
                question: '–ö–∞–∫–æ–µ –Ω–∞–∫–∞–∑–∞–Ω–∏–µ –∑–∞ —É–±–∏–π—Å—Ç–≤–æ (—Å—Ç. 6.2)?',
                options: ['3 –≥–æ–¥–∞', '4 –≥–æ–¥–∞', '5 –ª–µ—Ç', '6 –ª–µ—Ç'],
                correct: 1
            },
            {
                question: '–°–∫–æ–ª—å–∫–æ –≥—Ä–∞–º–º –Ω–∞—Ä–∫–æ—Ç–∏–∫–æ–≤ –º–æ–∂–Ω–æ —Ö—Ä–∞–Ω–∏—Ç—å –±–µ–∑ –Ω–∞–∫–∞–∑–∞–Ω–∏—è?',
                options: ['3 –≥—Ä', '5 –≥—Ä', '7 –≥—Ä', '10 –≥—Ä'],
                correct: 1
            },
            {
                question: '–ö–∞–∫–æ–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç —Ä–æ–∑—ã—Å–∫–∞ —É —Å—Ç. 17.6 (–ù–µ–ø–æ–¥—á–∏–Ω–µ–Ω–∏–µ)?',
                options: ['‚òÖ', '‚òÖ‚òÖ', '‚òÖ‚òÖ‚òÖ', '‚òÖ‚òÖ‚òÖ‚òÖ'],
                correct: 2
            },
            {
                question: '–ß—Ç–æ –≥—Ä–æ–∑–∏—Ç –∑–∞ —É–≥–æ–Ω –∞–≤—Ç–æ (—Å—Ç. 10.5.1)?',
                options: ['2 –≥–æ–¥–∞ / $25k', '3 –≥–æ–¥–∞ / $30k', '4 –≥–æ–¥–∞ / $45k', '5 –ª–µ—Ç'],
                correct: 1
            },
            {
                question: '–ö–∞–∫–∞—è —Å—Ç–∞—Ç—å—è –∑–∞ —Ö—Ä–∞–Ω–µ–Ω–∏–µ –æ—Ä—É–∂–∏—è?',
                options: ['12.7.1', '12.8.1', '12.9', '13.1.1'],
                correct: 1
            }
        ];

        function loadNextQuestion() {
            if (currentQuestion < quizQuestions.length) {
                const q = quizQuestions[currentQuestion];
                let html = `<div style="font-size: 18px; font-weight: 600; margin-bottom: 20px;">${currentQuestion + 1}. ${q.question}</div>`;
                html += '<div class="quiz-options">';
                q.options.forEach((opt, index) => {
                    html += `<div class="quiz-option" onclick="checkAnswer(this, ${index}, ${q.correct})">${opt}</div>`;
                });
                html += '</div><div id="quizFeedback" style="margin-top: 16px; padding: 12px; border-radius: 12px;"></div>';
                document.getElementById('quizArea').innerHTML = html;
            } else {
                document.getElementById('quizArea').innerHTML = `
                    <div style="text-align: center; padding: 40px;">
                        <span style="font-size: 48px;">üéâ</span>
                        <h3 style="margin: 20px 0;">–¢–µ—Å—Ç –∑–∞–≤–µ—Ä—à–µ–Ω!</h3>
                        <p style="font-size: 20px;">–í–∞—à —Ä–µ–∑—É–ª—å—Ç–∞—Ç: ${score}/${quizQuestions.length}</p>
                    </div>
                `;
                currentQuestion = 0;
                score = 0;
            }
        }

        function checkAnswer(element, selected, correct) {
            const options = document.querySelectorAll('.quiz-option');
            options.forEach(opt => opt.style.pointerEvents = 'none');
            
            if (selected === correct) {
                element.classList.add('correct');
                score++;
                document.getElementById('quizFeedback').innerHTML = '‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ!';
            } else {
                element.classList.add('wrong');
                options[correct].classList.add('correct');
                document.getElementById('quizFeedback').innerHTML = `‚ùå –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ. –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç: ${quizQuestions[currentQuestion].options[correct]}`;
            }
            
            currentQuestion++;
            setTimeout(loadNextQuestion, 1500);
        }

        function resetQuiz() {
            currentQuestion = 0;
            score = 0;
            loadNextQuestion();
        }

        // ========== –ê–°–°–ò–°–¢–ï–ù–¢ ==========
        let chatHistory = JSON.parse(localStorage.getItem('reznovChatHistory')) || [];

        function toggleAssistant() {
            const modal = document.getElementById('assistantModal');
            modal.style.display = modal.style.display === 'none' ? 'block' : 'none';
        }

        function sendAssistantMessage() {
            const input = document.getElementById('assistantInput');
            const question = input.value.trim();
            if (!question) return;
            
            addMessageToChat('user', question);
            input.value = '';
            
            let answer = processVoiceCommand(question);
            setTimeout(() => {
                addMessageToChat('assistant', answer);
                speakAnswer(answer);
            }, 500);
        }

        function addMessageToChat(sender, content) {
            const chat = document.getElementById('chatHistory');
            const msg = document.createElement('div');
            msg.className = `message ${sender}`;
            msg.innerHTML = sender === 'user' 
                ? `<div class="message-content">${content}</div><div class="message-avatar">üë§</div>`
                : `<div class="message-avatar">ü§ñ</div><div class="message-content">${content}</div>`;
            chat.appendChild(msg);
            chat.scrollTop = chat.scrollHeight;
            chatHistory.push({ sender, content, time: Date.now() });
            if (chatHistory.length > 50) chatHistory.shift();
            localStorage.setItem('reznovChatHistory', JSON.stringify(chatHistory));
        }

        function loadChatHistory() {
            const chat = document.getElementById('chatHistory');
            chat.innerHTML = '';
            if (chatHistory.length === 0) {
                chat.innerHTML = `<div class="message"><div class="message-avatar">ü§ñ</div><div class="message-content">–ü—Ä–∏–≤–µ—Ç! –Ø –ò–ò-–∞—Å—Å–∏—Å—Ç–µ–Ω—Ç –£–ö Reznov. –ó–∞–¥–∞–π –≤–æ–ø—Ä–æ—Å –ø—Ä–æ –ª—é–±—É—é —Å—Ç–∞—Ç—å—é!</div></div>`;
            } else {
                chatHistory.forEach(msg => {
                    const msgDiv = document.createElement('div');
                    msgDiv.className = `message ${msg.sender}`;
                    msgDiv.innerHTML = msg.sender === 'user'
                        ? `<div class="message-content">${msg.content}</div><div class="message-avatar">üë§</div>`
                        : `<div class="message-avatar">ü§ñ</div><div class="message-content">${msg.content}</div>`;
                    chat.appendChild(msgDiv);
                });
            }
        }

        function processVoiceCommand(command) {
            command = command.toLowerCase();
            
            if (command.includes('–æ—Ç–∫—Ä–æ–π –æ–±—â—É—é —á–∞—Å—Ç—å')) { showTab(1); return '–û—Ç–∫—Ä—ã–≤–∞—é –æ–±—â—É—é —á–∞—Å—Ç—å'; }
            if (command.includes('–∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä')) { showTab(8); return '–û—Ç–∫—Ä—ã–≤–∞—é –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä'; }
            if (command.includes('—Ç–µ—Å—Ç')) { showTab(9); resetQuiz(); return '–ó–∞–ø—É—Å–∫–∞—é —Ç–µ—Å—Ç'; }
            if (command.includes('–∏–∑–±—Ä–∞–Ω–Ω–æ–µ')) { showTab(10); return '–û—Ç–∫—Ä—ã–≤–∞—é –∏–∑–±—Ä–∞–Ω–Ω–æ–µ'; }
            if (command.includes('—Ç—ë–º–Ω–∞—è —Ç–µ–º–∞')) { 
                document.body.classList.remove('light-theme');
                document.body.classList.add('dark-theme');
                return '–í–∫–ª—é—á–∞—é —Ç—ë–º–Ω—É—é —Ç–µ–º—É';
            }
            if (command.includes('—Å–≤–µ—Ç–ª–∞—è —Ç–µ–º–∞')) {
                document.body.classList.remove('dark-theme');
                document.body.classList.add('light-theme');
                return '–í–∫–ª—é—á–∞—é —Å–≤–µ—Ç–ª—É—é —Ç–µ–º—É';
            }
            
            for (let law of lawDatabase) {
                if (command.includes(law.article)) {
                    return `–°—Ç–∞—Ç—å—è ${law.article}: ${law.title}\n–ù–∞–∫–∞–∑–∞–Ω–∏–µ: ${law.penalty}\n${law.description}`;
                }
            }
            
            return '–ö–æ–º–∞–Ω–¥–∞ –Ω–µ —Ä–∞—Å–ø–æ–∑–Ω–∞–Ω–∞. –ü–æ–ø—Ä–æ–±—É–π: "–æ—Ç–∫—Ä–æ–π –æ–±—â—É—é —á–∞—Å—Ç—å", "—Ç–µ—Å—Ç", –∏–ª–∏ —Å–ø—Ä–æ—Å–∏ –ø—Ä–æ —Å—Ç–∞—Ç—å—é (–Ω–∞–ø—Ä–∏–º–µ—Ä "—Å—Ç–∞—Ç—å—è 6.2")';
        }

        function startAssistantVoice() {
            if (!('webkitSpeechRecognition' in window)) return;
            const btn = document.getElementById('assistantMicBtn');
            btn.style.background = 'rgba(196,30,58,0.4)';
            const recognition = new webkitSpeechRecognition();
            recognition.lang = 'ru-RU';
            recognition.onresult = (e) => {
                document.getElementById('assistantInput').value = e.results[0][0].transcript;
                sendAssistantMessage();
                btn.style.background = 'rgba(196,30,58,0.2)';
            };
            recognition.onerror = () => btn.style.background = 'rgba(196,30,58,0.2)';
            recognition.start();
        }

        function speakAnswer(text) {
            if (!('speechSynthesis' in window)) return;
            window.speechSynthesis.cancel();
            const utterance = new SpeechSynthesisUtterance(text);
            utterance.lang = 'ru-RU';
            utterance.rate = 0.9;
            window.speechSynthesis.speak(utterance);
        }

        // ========== –ù–ê–í–ò–ì–ê–¶–ò–Ø ==========
        function showTab(tabId) {
            for (let i = 1; i <= 11; i++) {
                const tab = document.getElementById('tab' + i);
                if (tab) tab.style.display = i === tabId ? 'block' : 'none';
            }
            document.querySelectorAll('.tab').forEach((tab, i) => {
                tab.classList.toggle('active', i + 1 === tabId);
            });
        }

        // ========== –ü–ê–†–û–õ–¨ ==========
        function checkPassword() {
            if (document.getElementById('passwordInput').value === 'reznov123') {
                document.getElementById('loginScreen').style.display = 'none';
                document.getElementById('mainContent').style.display = 'block';
                initStars();
                drawStars();
                initTables();
                updateFavoritesTab();
                loadChatHistory();
                showTab(1);
                loadNextQuestion();
            } else {
                document.getElementById('loginError').style.display = 'block';
                setTimeout(() => document.getElementById('loginError').style.display = 'none', 2000);
            }
        }
    </script>
</body>
</html>
