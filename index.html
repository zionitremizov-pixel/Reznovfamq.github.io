<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.5, user-scalable=yes">
    <title>Reznov FAMQ ¬∑ –£–≥–æ–ª–æ–≤–Ω—ã–π –∫–æ–¥–µ–∫—Å ¬∑ LSPD</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
        }

        body {
            padding: 20px;
            line-height: 1.5;
            transition: background-color 0.5s ease, color 0.5s ease;
            position: relative;
            min-height: 100vh;
            overflow-x: hidden;
        }

        /* ========== –¢–Å–ú–ù–ê–Ø –¢–ï–ú–ê (–ß–Å–†–ù–û-–ë–ï–õ–´–ô) ========== */
        body.dark-theme {
            background: #000000;
            color: #ffffff;
        }
        body.dark-theme .container {
            background: rgba(10, 10, 10, 0.85);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        body.dark-theme .tab.active {
            background: #333333 !important;
            color: white !important;
            box-shadow: 0 0 20px rgba(255,255,255,0.2);
        }
        body.dark-theme .logo {
            border-color: #888888;
        }
        body.dark-theme th {
            background: rgba(30, 30, 30, 0.8);
            color: #ffffff;
        }
        body.dark-theme td {
            color: #dddddd;
            border-bottom-color: rgba(255,255,255,0.05);
        }

        /* ========== –°–í–ï–¢–õ–ê–Ø –¢–ï–ú–ê ========== */
        body.light-theme {
            background: #f5f5f5;
            color: #222222;
        }
        body.light-theme .container {
            background: rgba(255, 255, 255, 0.75);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(0, 0, 0, 0.08);
        }
        body.light-theme .tab.active {
            background: #dddddd !important;
            color: #222222 !important;
        }
        body.light-theme .logo {
            border-color: #aaaaaa;
        }
        body.light-theme td {
            color: #333333;
        }

        /* ========== –ó–í–Å–ó–î–ù–û–ï –ù–ï–ë–û ========== */
        #starfield {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 0;
        }

        .container {
            max-width: 1600px;
            margin: 0 auto;
            border-radius: 32px;
            padding: 32px;
            transition: all 0.5s ease;
            position: relative;
            z-index: 2;
            animation: fadeIn 1s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* ========== –õ–û–ì–û–¢–ò–ü ========== */
        .logo {
            width: 80px;
            height: 80px;
            border-radius: 24px;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.5s ease;
            border: 2px solid;
            position: relative;
            overflow: hidden;
            background: #111111;
        }
        body.light-theme .logo { background: #ffffff; }
        .logo span {
            font-size: 48px;
            font-weight: 800;
            color: #ffffff;
        }
        body.light-theme .logo span { color: #222222; }

        .title-section { flex: 1; }
        .title-section h1 {
            font-size: 32px;
            font-weight: 700;
            letter-spacing: 1px;
            margin-bottom: 8px;
        }

        /* ========== –ö–û–î–ï–ö–° –ß–ï–°–¢–ò (–ß–Å–†–ù–û-–ë–ï–õ–´–ô) ========== */
        .honor-code {
            background: rgba(0,0,0,0.2);
            border-left: 6px solid #666666;
            border-radius: 20px;
            padding: 28px;
            margin-bottom: 32px;
            backdrop-filter: blur(10px);
            animation: slideIn 0.8s ease;
        }
        body.light-theme .honor-code {
            background: rgba(0,0,0,0.03);
            border-left-color: #aaaaaa;
        }

        .honor-title {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 24px;
            font-size: 24px;
            font-weight: 700;
            color: #cccccc;
            text-transform: uppercase;
            letter-spacing: 3px;
        }
        body.light-theme .honor-title { color: #555555; }

        .honor-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
        }

        .honor-item {
            background: rgba(0,0,0,0.2);
            border: 1px solid rgba(255,255,255,0.1);
            border-radius: 16px;
            padding: 20px;
            transition: all 0.4s ease;
        }
        body.light-theme .honor-item {
            background: rgba(0,0,0,0.02);
            border: 1px solid rgba(0,0,0,0.05);
        }
        .honor-item:hover {
            transform: translateY(-5px);
            background: rgba(255,255,255,0.05);
            border-color: #888888;
        }

        .honor-number {
            font-size: 32px;
            font-weight: 800;
            color: #888888;
            margin-bottom: 8px;
        }
        .honor-rule {
            font-size: 18px;
            font-weight: 700;
            margin-bottom: 8px;
        }
        .honor-desc {
            font-size: 14px;
            color: rgba(255,255,255,0.6);
            line-height: 1.5;
        }
        body.light-theme .honor-desc { color: rgba(0,0,0,0.6); }

        /* ========== –ê–ö–ê–î–ï–ú–ò–Ø LSPD ========== */
        .academy-section {
            background: rgba(0,0,0,0.15);
            border-radius: 24px;
            padding: 28px;
            margin-bottom: 32px;
            border: 1px solid rgba(255,255,255,0.1);
        }
        body.light-theme .academy-section {
            background: rgba(0,0,0,0.02);
            border: 1px solid rgba(0,0,0,0.05);
        }

        .academy-title {
            font-size: 26px;
            font-weight: 700;
            color: #cccccc;
            letter-spacing: 2px;
            margin-bottom: 20px;
        }
        body.light-theme .academy-title { color: #555555; }

        .academy-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 24px;
        }

        .academy-card {
            background: rgba(0,0,0,0.2);
            border-radius: 20px;
            padding: 24px;
            border: 1px solid rgba(255,255,255,0.1);
        }
        body.light-theme .academy-card {
            background: rgba(0,0,0,0.02);
            border: 1px solid rgba(0,0,0,0.05);
        }

        .mistake-item {
            padding: 10px 0;
            border-bottom: 1px solid rgba(255,255,255,0.05);
            display: flex;
            gap: 12px;
        }
        .mistake-number {
            background: #333333;
            color: white;
            width: 24px;
            height: 24px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 12px;
            font-weight: 700;
            flex-shrink: 0;
        }
        body.light-theme .mistake-number { background: #aaaaaa; }

        .exam-option {
            background: rgba(0,0,0,0.2);
            border: 1px solid rgba(255,255,255,0.1);
            border-radius: 12px;
            padding: 12px;
            cursor: pointer;
            transition: 0.3s;
        }
        .exam-option:hover {
            background: rgba(255,255,255,0.1);
            border-color: #888888;
        }

        /* ========== –ü–û–ò–°–ö ========== */
        .search-box {
            margin-bottom: 32px;
            display: flex;
            align-items: center;
            gap: 16px;
            flex-wrap: wrap;
        }

        .search-input {
            flex: 1;
            min-width: 300px;
            border-radius: 60px;
            padding: 20px 32px;
            font-size: 18px;
            outline: none;
            transition: all 0.5s ease;
            border: 2px solid;
            background: transparent;
            backdrop-filter: blur(10px);
        }
        body.dark-theme .search-input {
            background: rgba(20, 20, 20, 0.7);
            border-color: rgba(255,255,255,0.1);
            color: white;
        }
        body.light-theme .search-input {
            background: rgba(255,255,255,0.7);
            border-color: rgba(0,0,0,0.08);
            color: #222222;
        }

        .search-input:focus {
            transform: scale(1.02);
            border-color: #888888 !important;
        }

        .voice-btn, .search-clear {
            padding: 18px 32px;
            border-radius: 50px;
            font-size: 17px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.4s ease;
            border: 1.5px solid;
            backdrop-filter: blur(10px);
            display: flex;
            align-items: center;
            gap: 10px;
        }
        body.dark-theme .voice-btn, 
        body.dark-theme .search-clear {
            background: rgba(30, 30, 30, 0.7);
            border-color: rgba(255,255,255,0.15);
            color: white;
        }
        body.light-theme .voice-btn,
        body.light-theme .search-clear {
            background: rgba(255,255,255,0.7);
            border-color: rgba(0,0,0,0.08);
            color: #222222;
        }

        .results-info {
            padding: 12px 24px;
            border-radius: 50px;
            display: inline-block;
            margin-bottom: 20px;
            font-size: 16px;
            font-weight: 600;
            backdrop-filter: blur(10px);
            background: rgba(255,255,255,0.05);
            border: 1px solid rgba(255,255,255,0.1);
        }

        /* ========== –¢–ê–ë–õ–ò–¶–´ ========== */
        .table-wrapper {
            overflow-x: auto;
            border-radius: 20px;
            margin-top: 10px;
            transition: all 0.5s ease;
            border: 1px solid;
            backdrop-filter: blur(10px);
        }
        body.dark-theme .table-wrapper {
            background: rgba(10, 10, 10, 0.6);
            border-color: rgba(255,255,255,0.08);
        }
        body.light-theme .table-wrapper {
            background: rgba(255,255,255,0.6);
            border-color: rgba(0,0,0,0.05);
        }

        table {
            width: 100%;
            border-collapse: collapse;
            font-size: 15px;
            min-width: 600px;
        }
        th {
            font-weight: 700;
            padding: 18px 16px;
            text-transform: uppercase;
            font-size: 14px;
            letter-spacing: 1.5px;
            background: rgba(0,0,0,0.2);
        }
        td {
            padding: 16px;
            transition: all 0.3s ease;
            border-bottom: 1px solid;
        }
        tr:hover td { background: rgba(255,255,255,0.05); }

        .bookmark-star {
            cursor: pointer;
            font-size: 18px;
            margin-right: 8px;
            transition: all 0.3s ease;
            display: inline-block;
        }
        .bookmark-star:hover { transform: scale(1.2); }
        .bookmark-star.active { color: #FFD700; }

        /* ========== –í–ö–õ–ê–î–ö–ò ========== */
        .tabs {
            display: flex;
            gap: 12px;
            margin-bottom: 32px;
            flex-wrap: wrap;
            border-bottom: 1px solid;
            padding-bottom: 20px;
        }
        .tab {
            padding: 14px 28px;
            font-size: 16px;
            font-weight: 600;
            border-radius: 50px;
            cursor: pointer;
            border: 1.5px solid transparent;
            backdrop-filter: blur(10px);
            transition: all 0.4s ease;
        }
        body.dark-theme .tab {
            color: rgba(255,255,255,0.7);
            background: rgba(30, 30, 30, 0.4);
        }
        body.light-theme .tab {
            color: rgba(0,0,0,0.6);
            background: rgba(255,255,255,0.5);
        }
        .tab.active {
            background: #333333 !important;
            color: white !important;
        }
        body.light-theme .tab.active {
            background: #dddddd !important;
            color: #222222 !important;
        }

        /* ========== –ì–û–õ–û–°–û–í–û–ô –ê–°–°–ò–°–¢–ï–ù–¢ ========== */
        .voice-assistant {
            position: fixed;
            bottom: 30px;
            right: 30px;
            width: 80px;
            height: 80px;
            border-radius: 50%;
            background: #222222;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s ease;
            border: 2px solid #444444;
            z-index: 999;
        }
        body.light-theme .voice-assistant {
            background: #e0e0e0;
            border: 2px solid #cccccc;
        }
        .voice-assistant:hover { transform: scale(1.1); }
        .voice-icon { font-size: 36px; color: white; }
        body.light-theme .voice-icon { color: #222222; }

        .assistant-modal {
            position: fixed;
            bottom: 120px;
            right: 30px;
            width: 420px;
            background: rgba(10, 10, 10, 0.95);
            backdrop-filter: blur(15px);
            border: 1px solid rgba(255,255,255,0.1);
            border-radius: 24px;
            padding: 24px;
            z-index: 998;
            display: none;
        }
        body.light-theme .assistant-modal {
            background: rgba(255,255,255,0.95);
            border: 1px solid rgba(0,0,0,0.1);
        }

        .voice-settings {
            background: rgba(0,0,0,0.2);
            border-radius: 16px;
            padding: 16px;
            margin-bottom: 16px;
        }
        .voice-select, .voice-slider {
            width: 100%;
            padding: 10px;
            border-radius: 30px;
            border: 1px solid rgba(255,255,255,0.2);
            background: rgba(0,0,0,0.2);
            color: white;
            margin-bottom: 12px;
        }
        body.light-theme .voice-select,
        body.light-theme .voice-slider {
            background: rgba(255,255,255,0.8);
            color: #222222;
            border: 1px solid rgba(0,0,0,0.1);
        }

        .footer {
            margin-top: 48px;
            text-align: center;
            font-size: 15px;
            border-top: 1px solid rgba(255,255,255,0.1);
            padding-top: 24px;
            opacity: 0.8;
        }
        body.light-theme .footer {
            border-top-color: rgba(0,0,0,0.1);
        }

        @media (max-width: 600px) {
            .container { padding: 20px; }
            .academy-grid { grid-template-columns: 1fr; }
            .honor-grid { grid-template-columns: 1fr; }
        }
    </style>
</head>
<body class="dark-theme">
    <!-- –ó–í–Å–ó–î–ù–û–ï –ù–ï–ë–û -->
    <canvas id="starfield"></canvas>

    <!-- –≠–ö–†–ê–ù –í–•–û–î–ê -->
    <div id="loginScreen" style="position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.95); display: flex; justify-content: center; align-items: center; z-index: 9999; backdrop-filter: blur(15px);">
        <div style="border-radius: 32px; padding: 48px; max-width: 440px; width: 90%; text-align: center; background: rgba(10,10,10,0.8); border: 1px solid rgba(255,255,255,0.1);">
            <div class="logo" style="margin: 0 auto 24px; width: 100px; height: 100px;">
                <span style="font-size: 60px;">R</span>
            </div>
            <div style="font-size: 28px; font-weight: 700; margin-bottom: 12px; color: white;">Reznov FAMQ</div>
            <div style="color: rgba(255,255,255,0.6); margin-bottom: 36px;">–ó–∞–∫—Ä—ã—Ç—ã–π —Ä–µ—Å—É—Ä—Å —Å–µ–º—å–∏</div>
            <input type="password" id="passwordInput" style="width: 100%; border-radius: 60px; padding: 18px 28px; font-size: 18px; margin-bottom: 24px; outline: none; border: 2px solid rgba(255,255,255,0.1); background: rgba(255,255,255,0.05); color: white;" placeholder="–í–≤–µ–¥–∏ –ø–∞—Ä–æ–ª—å" onkeypress="if(event.key==='Enter') checkPassword()">
            <button onclick="checkPassword()" style="width: 100%; padding: 18px 36px; border-radius: 60px; font-size: 18px; font-weight: 700; cursor: pointer; border: 2px solid #666666; background: #333333; color: white; letter-spacing: 2px;">–í–û–ô–¢–ò</button>
            <div id="loginError" style="color: #ff6666; margin-top: 20px; display: none;">–ù–µ–≤–µ—Ä–Ω—ã–π –ø–∞—Ä–æ–ª—å</div>
        </div>
    </div>

    <!-- –û–°–ù–û–í–ù–û–ô –ö–û–ù–¢–ï–ù–¢ -->
    <div id="mainContent" style="display: none;">
        <div class="container">
            <!-- –®–ê–ü–ö–ê -->
            <div style="display: flex; align-items: center; gap: 24px; margin-bottom: 32px; border-bottom: 2px solid rgba(255,255,255,0.2); padding-bottom: 24px; flex-wrap: wrap;">
                <div class="logo" id="mainLogo">
                    <span>R</span>
                </div>
                <div style="flex: 1;">
                    <h1 style="font-size: 32px; font-weight: 700;">Reznov FAMQ ¬∑ –£–≥–æ–ª–æ–≤–Ω—ã–π –∫–æ–¥–µ–∫—Å</h1>
                    <div style="font-weight: 600; text-transform: uppercase; font-size: 15px; letter-spacing: 4px; border-left: 4px solid #888888; padding-left: 16px; color: #cccccc;">
                        –ó–ê–ö–û–ù –ï–°–¢–¨ –ó–ê–ö–û–ù ¬∑ –ú–´ ‚Äî REZNOV
                    </div>
                </div>
                <div style="display: flex; gap: 12px;">
                    <select id="colorSelector" style="display: none;">
                        <option value="classic">–ö–ª–∞—Å—Å–∏–∫–∞</option>
                    </select>
                    <button id="themeToggle" onclick="toggleTheme()" style="padding: 12px 24px; border-radius: 40px; border: 1px solid rgba(255,255,255,0.2); background: rgba(0,0,0,0.3); color: white; cursor: pointer;">
                        <span id="themeIcon">üåô</span> –¢–µ–º–∞
                    </button>
                </div>
            </div>

            <!-- ========== –ö–û–î–ï–ö–° –ß–ï–°–¢–ò LSPD ========== -->
            <div class="honor-code">
                <div class="honor-title">
                    <span>üìú –ö–û–î–ï–ö–° –ß–ï–°–¢–ò LSPD</span>
                </div>
                <div class="honor-grid">
                    <div class="honor-item"><div class="honor-number">I</div><div class="honor-rule">–ó–∞–∫–æ–Ω –ø—Ä–µ–≤—ã—à–µ –≤—Å–µ–≥–æ</div><div class="honor-desc">–Ø –∫–ª—è–Ω—É—Å—å —Å–æ–±–ª—é–¥–∞—Ç—å –ö–æ–Ω—Å—Ç–∏—Ç—É—Ü–∏—é –∏ –£–≥–æ–ª–æ–≤–Ω—ã–π –∫–æ–¥–µ–∫—Å. –ù–µ—Ç –Ω–∏–∫–æ–≥–æ –≤—ã—à–µ –∑–∞–∫–æ–Ω–∞.</div></div>
                    <div class="honor-item"><div class="honor-number">II</div><div class="honor-rule">–ß–µ—Å—Ç—å –∏ –¥–æ—Å—Ç–æ–∏–Ω—Å—Ç–≤–æ</div><div class="honor-desc">–ú–æ–∏ –¥–µ–π—Å—Ç–≤–∏—è –Ω–µ –∑–∞–ø—è—Ç–Ω–∞—é—Ç –∑–≤–∞–Ω–∏–µ –æ—Ñ–∏—Ü–µ—Ä–∞ –ø–æ–ª–∏—Ü–∏–∏.</div></div>
                    <div class="honor-item"><div class="honor-number">III</div><div class="honor-rule">–ó–∞—â–∏—Ç–∞ –≥—Ä–∞–∂–¥–∞–Ω</div><div class="honor-desc">–ö–∞–∂–¥—ã–π –∂–∏—Ç–µ–ª—å –õ–æ—Å-–°–∞–Ω—Ç–æ—Å–∞ –∏–º–µ–µ—Ç –ø—Ä–∞–≤–æ –Ω–∞ –∑–∞—â–∏—Ç—É.</div></div>
                    <div class="honor-item"><div class="honor-number">IV</div><div class="honor-rule">–ü–ª–µ—á–æ–º –∫ –ø–ª–µ—á—É</div><div class="honor-desc">–Ø –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ –±—Ä–æ—à—É –Ω–∞–ø–∞—Ä–Ω–∏–∫–∞. –ï–≥–æ –∂–∏–∑–Ω—å —Ü–µ–Ω–Ω–∞, –∫–∞–∫ –º–æ—è.</div></div>
                    <div class="honor-item"><div class="honor-number">V</div><div class="honor-rule">–ë–µ—Å–ø—Ä–∏—Å—Ç—Ä–∞—Å—Ç–Ω–æ—Å—Ç—å</div><div class="honor-desc">–Ø –Ω–µ –±—É–¥—É –∑–∞–∫—Ä—ã–≤–∞—Ç—å –≥–ª–∞–∑–∞ –Ω–∞ –Ω–∞—Ä—É—à–µ–Ω–∏—è –∫–æ–ª–ª–µ–≥.</div></div>
                    <div class="honor-item"><div class="honor-number">VI</div><div class="honor-rule">–ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ —Å–∏–ª—ã</div><div class="honor-desc">–°–∏–ª–∞ ‚Äî —Ç–æ–ª—å–∫–æ –∫–æ–≥–¥–∞ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –∏ –∞–¥–µ–∫–≤–∞—Ç–Ω–æ —É–≥—Ä–æ–∑–µ.</div></div>
                    <div class="honor-item"><div class="honor-number">VII</div><div class="honor-rule">–ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª–∏–∑–º</div><div class="honor-desc">–Ø –ø–æ—Å—Ç–æ—è–Ω–Ω–æ —Å–æ–≤–µ—Ä—à–µ–Ω—Å—Ç–≤—É—é –Ω–∞–≤—ã–∫–∏. –õ–µ–Ω–∏–≤—ã–π –∫–æ–ø ‚Äî –æ–ø–∞—Å–Ω—ã–π –∫–æ–ø.</div></div>
                    <div class="honor-item"><div class="honor-number">VIII</div><div class="honor-rule">–ù–∏–∫–∞–∫–æ–π –∫–æ—Ä—Ä—É–ø—Ü–∏–∏</div><div class="honor-desc">–í–∑—è—Ç–∫–∏ –∏ –∫—Ä—ã—à–µ–≤–∞–Ω–∏–µ –Ω–µ—Å–æ–≤–º–µ—Å—Ç–∏–º—ã —Å–æ –∑–Ω–∞—á–∫–æ–º.</div></div>
                    <div class="honor-item"><div class="honor-number">IX</div><div class="honor-rule">–£–≤–∞–∂–µ–Ω–∏–µ –∫ –ø–∞–≤—à–∏–º</div><div class="honor-desc">–Ø —á—Ç—É –ø–∞–º—è—Ç—å –æ—Ñ–∏—Ü–µ—Ä–æ–≤, –æ—Ç–¥–∞–≤—à–∏—Ö –∂–∏–∑–Ω—å –ø—Ä–∏ –∏—Å–ø–æ–ª–Ω–µ–Ω–∏–∏.</div></div>
                    <div class="honor-item"><div class="honor-number">X</div><div class="honor-rule">–°–ª—É–∂—É –ó–∞–∫–æ–Ω—É</div><div class="honor-desc">–ú–æ—è –ø—Ä–∏—Å—è–≥–∞ ‚Äî –Ω–µ —Ä–∞–±–æ—Ç–∞. –≠—Ç–æ –æ–±—Ä–∞–∑ –∂–∏–∑–Ω–∏.</div></div>
                </div>
            </div>

            <!-- ========== –ê–ö–ê–î–ï–ú–ò–Ø LSPD ========== -->
            <div class="academy-section">
                <div class="academy-title">üéì –ê–ö–ê–î–ï–ú–ò–Ø LSPD ¬∑ –ö–£–†–° –ú–û–õ–û–î–û–ì–û –ë–û–ô–¶–ê</div>
                <div class="academy-grid">
                    <!-- 10 –û–®–ò–ë–û–ö –ù–û–í–ò–ß–ö–ê -->
                    <div class="academy-card">
                        <h3 style="margin-bottom: 20px;">üö® 10 –û–®–ò–ë–û–ö –ù–û–í–ò–ß–ö–ê</h3>
                        <div class="mistake-item"><span class="mistake-number">1</span> –ù–µ –∑–∞—á–∏—Ç–∞–ª –ú–∏—Ä–∞–Ω–¥—É</div>
                        <div class="mistake-item"><span class="mistake-number">2</span> –ü–æ–≥–Ω–∞–ª—Å—è –±–µ–∑ –ø–æ–¥–∫—Ä–µ–ø–ª–µ–Ω–∏—è</div>
                        <div class="mistake-item"><span class="mistake-number">3</span> –ó–∞–±—ã–ª –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ –±–∞–∑–µ</div>
                        <div class="mistake-item"><span class="mistake-number">4</span> –û–±—ã—Å–∫ –±–µ–∑ –æ—Å–Ω–æ–≤–∞–Ω–∏–π</div>
                        <div class="mistake-item"><span class="mistake-number">5</span> –ü–µ—Ä–µ—Å—Ç—Ä–µ–ª–∫–∞ –≤ –ª—é–¥–Ω–æ–º –º–µ—Å—Ç–µ</div>
                        <div class="mistake-item"><span class="mistake-number">6</span> –ù–µ –≤—ã–∑–≤–∞–ª EMS</div>
                        <div class="mistake-item"><span class="mistake-number">7</span> –û—Å—Ç–∞–≤–∏–ª –æ—Ä—É–∂–∏–µ –≤ –º–∞—à–∏–Ω–µ</div>
                        <div class="mistake-item"><span class="mistake-number">8</span> –ù–µ –¥–æ–ª–æ–∂–∏–ª –Ω–∞—á–∞–ª—å—Å—Ç–≤—É</div>
                        <div class="mistake-item"><span class="mistake-number">9</span> –ü–æ–≤–µ—Ä–∏–ª –Ω–∞ —Å–ª–æ–≤–æ</div>
                        <div class="mistake-item"><span class="mistake-number">10</span> –ó–∞–±—ã–ª —Å–Ω—è—Ç—å –±–æ–¥–∏–∫–∞–º</div>
                    </div>
                    <!-- –≠–ö–ó–ê–ú–ï–ù -->
                    <div class="academy-card">
                        <h3 style="margin-bottom: 20px;">üìù –≠–ö–ó–ê–ú–ï–ù –ù–ê –ó–ù–ê–ù–ò–ï –£–ö</h3>
                        <div id="lspdExamArea"></div>
                        <div style="display: flex; gap: 12px; margin-top: 20px;">
                            <button onclick="loadLSPDQuestion()" style="background: #333333; border: none; color: white; padding: 12px 24px; border-radius: 30px; cursor: pointer; flex: 1;">–°–ª–µ–¥—É—é—â–∏–π –≤–æ–ø—Ä–æ—Å</button>
                            <button onclick="resetLSPDExam()" style="background: transparent; border: 1px solid #666666; color: white; padding: 12px 24px; border-radius: 30px; cursor: pointer;">–°–±—Ä–æ—Å</button>
                        </div>
                    </div>
                </div>
                <!-- –ü–†–ò–°–Ø–ì–ê -->
                <div style="margin-top: 24px; padding: 20px; background: rgba(0,0,0,0.2); border-radius: 16px; text-align: center; border: 1px dashed #666666;">
                    <p style="font-size: 18px; font-style: italic; color: #cccccc; margin-bottom: 16px;">
                        ¬´–Ø —Ç–æ—Ä–∂–µ—Å—Ç–≤–µ–Ω–Ω–æ –∫–ª—è–Ω—É—Å—å –∑–∞—â–∏—â–∞—Ç—å –ö–æ–Ω—Å—Ç–∏—Ç—É—Ü–∏—é —à—Ç–∞—Ç–∞ –°–∞–Ω-–ê–Ω–¥—Ä–µ–∞—Å, 
                        —É–≤–∞–∂–∞—Ç—å –ø—Ä–∞–≤–∞ –≥—Ä–∞–∂–¥–∞–Ω –∏ —Å —á–µ—Å—Ç—å—é –Ω–µ—Å—Ç–∏ –∑–≤–∞–Ω–∏–µ –æ—Ñ–∏—Ü–µ—Ä–∞ –ø–æ–ª–∏—Ü–∏–∏. –°–ª—É–∂—É –ó–∞–∫–æ–Ω—É!¬ª
                    </p>
                    <button onclick="takeOath()" style="background: transparent; border: 2px solid #888888; color: white; padding: 12px 32px; border-radius: 40px; font-weight: 700; cursor: pointer;">
                        –ü–†–ò–ù–Ø–¢–¨ –ü–†–ò–°–Ø–ì–£
                    </button>
                    <div id="oathMessage" style="margin-top: 16px; font-size: 14px; color: #cccccc;"></div>
                </div>
            </div>

            <!-- –ü–û–ò–°–ö -->
            <div class="search-box">
                <input type="text" id="searchInput" class="search-input" 
                       placeholder="üîç –í–≤–µ–¥–∏ —Å—Ç–∞—Ç—å—é, –Ω–∞–∑–≤–∞–Ω–∏–µ –∏–ª–∏ –Ω–∞–∫–∞–∑–∞–Ω–∏–µ..." 
                       onkeyup="searchArticles()" autocomplete="off">
                <button id="voiceBtn" class="voice-btn" onclick="startVoiceSearch()">üé§ –ì–æ–ª–æ—Å</button>
                <button class="search-clear" onclick="clearSearch()">‚úï –°–±—Ä–æ—Å</button>
            </div>
            <div id="resultsCount" class="results-info" style="display: none;"></div>

            <!-- –í–ö–õ–ê–î–ö–ò -->
            <div class="tabs" id="mainTabs">
                <button class="tab active" onclick="showTab(1)">üìò –û–±—â–∞—è —á–∞—Å—Ç—å</button>
                <button class="tab" onclick="showTab(2)">üî´ –¢—è–∂–∫–∏–µ –ø—Ä–µ—Å—Ç—É–ø–ª–µ–Ω–∏—è</button>
                <button class="tab" onclick="showTab(3)">üí∞ –ò–º—É—â–µ—Å—Ç–≤–æ / –≠–∫–æ–Ω–æ–º–∏–∫–∞</button>
                <button class="tab" onclick="showTab(4)">üß™ –ù–∞—Ä–∫–æ—Ç–∏–∫–∏ / –û—Ä—É–∂–∏–µ</button>
                <button class="tab" onclick="showTab(5)">‚öñÔ∏è –î–æ–ª–∂–Ω–æ—Å—Ç–Ω—ã–µ / –í–ª–∞—Å—Ç—å</button>
                <button class="tab" onclick="showTab(6)">üèõÔ∏è –ü—Ä–∞–≤–æ—Å—É–¥–∏–µ / –ü–æ—Ä—è–¥–æ–∫</button>
                <button class="tab" onclick="showTab(7)">‚öîÔ∏è –í–æ–µ–Ω–Ω—ã–µ / –ì–æ—Å–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å</button>
                <button class="tab" onclick="showTab(8)">üìã –ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä</button>
                <button class="tab" onclick="showTab(9)">‚≠ê –ò–∑–±—Ä–∞–Ω–Ω–æ–µ</button>
                <button class="tab" onclick="showTab(10)">üë• –û—Ñ–∏—Ü–µ—Ä—ã LSPD</button>
            </div>

            <!-- –¢–ê–ë–õ–ò–¶–´ –£–ö (85+ –°–¢–ê–¢–ï–ô) -->
            <div id="tab1" class="table-wrapper"><table id="table1"><thead><tr><th>–°—Ç–∞—Ç—å—è</th><th>–ù–∞—Ä—É—à–µ–Ω–∏–µ</th><th>–ó–≤—ë–∑–¥—ã</th><th>–ù–∞–∫–∞–∑–∞–Ω–∏–µ</th><th></th></tr></thead><tbody id="table1-body"></tbody></table></div>
            <div id="tab2" class="table-wrapper" style="display: none;"><table id="table2"><thead><tr><th>–°—Ç–∞—Ç—å—è</th><th>–ù–∞—Ä—É—à–µ–Ω–∏–µ</th><th>–ó–≤—ë–∑–¥—ã</th><th>–ù–∞–∫–∞–∑–∞–Ω–∏–µ</th><th></th></tr></thead><tbody id="table2-body"></tbody></table></div>
            <div id="tab3" class="table-wrapper" style="display: none;"><table id="table3"><thead><tr><th>–°—Ç–∞—Ç—å—è</th><th>–ù–∞—Ä—É—à–µ–Ω–∏–µ</th><th>–ó–≤—ë–∑–¥—ã</th><th>–ù–∞–∫–∞–∑–∞–Ω–∏–µ</th><th></th></tr></thead><tbody id="table3-body"></tbody></table></div>
            <div id="tab4" class="table-wrapper" style="display: none;"><table id="table4"><thead><tr><th>–°—Ç–∞—Ç—å—è</th><th>–ù–∞—Ä—É—à–µ–Ω–∏–µ</th><th>–ó–≤—ë–∑–¥—ã</th><th>–ù–∞–∫–∞–∑–∞–Ω–∏–µ</th><th></th></tr></thead><tbody id="table4-body"></tbody></table></div>
            <div id="tab5" class="table-wrapper" style="display: none;"><table id="table5"><thead><tr><th>–°—Ç–∞—Ç—å—è</th><th>–ù–∞—Ä—É—à–µ–Ω–∏–µ</th><th>–ó–≤—ë–∑–¥—ã</th><th>–ù–∞–∫–∞–∑–∞–Ω–∏–µ</th><th></th></tr></thead><tbody id="table5-body"></tbody></table></div>
            <div id="tab6" class="table-wrapper" style="display: none;"><table id="table6"><thead><tr><th>–°—Ç–∞—Ç—å—è</th><th>–ù–∞—Ä—É—à–µ–Ω–∏–µ</th><th>–ó–≤—ë–∑–¥—ã</th><th>–ù–∞–∫–∞–∑–∞–Ω–∏–µ</th><th></th></tr></thead><tbody id="table6-body"></tbody></table></div>
            <div id="tab7" class="table-wrapper" style="display: none;"><table id="table7"><thead><tr><th>–°—Ç–∞—Ç—å—è</th><th>–ù–∞—Ä—É—à–µ–Ω–∏–µ</th><th>–ó–≤—ë–∑–¥—ã</th><th>–ù–∞–∫–∞–∑–∞–Ω–∏–µ</th><th></th></tr></thead><tbody id="table7-body"></tbody></table></div>

            <!-- –¢–ê–ë 8: –ö–û–ù–°–¢–†–£–ö–¢–û–† -->
            <div id="tab8" style="display: none;">
                <div style="background: rgba(0,0,0,0.2); border-radius: 20px; padding: 24px;">
                    <h3 style="font-size: 20px; margin-bottom: 16px;">üìã –ö–û–ù–°–¢–†–£–ö–¢–û–† –ü–†–û–¢–û–ö–û–õ–ê</h3>
                    <div style="display: flex; gap: 16px; margin-bottom: 20px;">
                        <input type="text" id="protocolSuspect" style="flex: 1; padding: 14px; border-radius: 30px; border: 1px solid rgba(255,255,255,0.1); background: rgba(0,0,0,0.2); color: white;" placeholder="–§–ò–û –∑–∞–¥–µ—Ä–∂–∞–Ω–Ω–æ–≥–æ">
                        <input type="text" id="protocolOfficer" style="flex: 1; padding: 14px; border-radius: 30px; border: 1px solid rgba(255,255,255,0.1); background: rgba(0,0,0,0.2); color: white;" placeholder="–í–∞—à –ø–æ–∑—ã–≤–Ω–æ–π">
                    </div>
                    <div id="protocolArticlesList" style="display: flex; flex-wrap: wrap; gap: 12px; margin: 16px 0;"></div>
                    <div style="display: flex; gap: 12px;">
                        <button onclick="addArticleToProtocol()" style="background: rgba(255,255,255,0.1); border: 1px solid #666666; color: white; padding: 12px 24px; border-radius: 30px; cursor: pointer;">+ –î–æ–±–∞–≤–∏—Ç—å —Å—Ç–∞—Ç—å—é</button>
                        <button onclick="generateProtocol()" style="background: #333333; border: none; color: white; padding: 12px 24px; border-radius: 30px; cursor: pointer;">üéôÔ∏è –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å</button>
                    </div>
                    <div id="protocolOutput" style="display: none; margin-top: 20px; padding: 16px; background: rgba(0,0,0,0.3); border-radius: 12px; border-left: 4px solid #888888; font-family: monospace; white-space: pre-wrap;"></div>
                </div>
            </div>

            <!-- –¢–ê–ë 9: –ò–ó–ë–†–ê–ù–ù–û–ï -->
            <div id="tab9" class="table-wrapper" style="display: none;">
                <table id="favoritesTable"><thead><tr><th>–°—Ç–∞—Ç—å—è</th><th>–ù–∞—Ä—É—à–µ–Ω–∏–µ</th><th>–ó–≤—ë–∑–¥—ã</th><th>–ù–∞–∫–∞–∑–∞–Ω–∏–µ</th><th></th></tr></thead><tbody id="favoritesBody"></tbody></table>
            </div>

            <!-- –¢–ê–ë 10: –û–§–ò–¶–ï–†–´ -->
            <div id="tab10" style="display: none;">
                <div style="display: grid; grid-template-columns: repeat(auto-fill, minmax(280px, 1fr)); gap: 16px;">
                    <div style="background: rgba(0,0,0,0.2); border: 1px solid rgba(255,255,255,0.1); border-radius: 20px; padding: 20px;">
                        <div style="font-size: 18px; font-weight: 700;">Yaroslav Reznov</div>
                        <div style="color: #888888; margin-top: 4px;">üëÆ‚Äç‚ôÇÔ∏è –õ–∏–¥–µ—Ä LSPD</div>
                    </div>
                    <div style="background: rgba(0,0,0,0.2); border: 1px solid rgba(255,255,255,0.1); border-radius: 20px; padding: 20px;">
                        <div style="font-size: 18px; font-weight: 700;">Ekaterina Reznova</div>
                        <div style="color: #888888; margin-top: 4px;">üëÆ‚Äç‚ôÄÔ∏è –ó–∞–º. –Ω–∞—á–∞–ª—å–Ω–∏–∫–∞</div>
                    </div>
                </div>
            </div>

            <div class="footer">Reznov FAMQ ¬∑ –£–≥–æ–ª–æ–≤–Ω—ã–π –∫–æ–¥–µ–∫—Å ¬∑ Majestic RP ¬∑ LSPD</div>
        </div>
    </div>

    <!-- –ì–û–õ–û–°–û–í–û–ô –ê–°–°–ò–°–¢–ï–ù–¢ -->
    <div class="voice-assistant" id="voiceAssistantBtn" onclick="toggleAssistant()">
        <span class="voice-icon">ü§ñ</span>
    </div>

    <div class="assistant-modal" id="assistantModal">
        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
            <span style="font-size: 20px; font-weight: 700;">ü§ñ Reznov AI</span>
            <span style="cursor: pointer; font-size: 24px;" onclick="toggleAssistant()">‚úï</span>
        </div>
        <div class="voice-settings">
            <select id="voiceSelect" class="voice-select">
                <option value="">–ó–∞–≥—Ä—É–∑–∫–∞ –≥–æ–ª–æ—Å–æ–≤...</option>
            </select>
            <div style="margin-bottom: 12px;">
                <span>–°–∫–æ—Ä–æ—Å—Ç—å —Ä–µ—á–∏: <span id="rateValue">1.0x</span></span>
                <input type="range" id="rateRange" min="0.5" max="2.0" step="0.1" value="1.0" style="width: 100%; margin-top: 8px;">
            </div>
        </div>
        <div class="chat-history" id="chatHistory" style="max-height: 250px; overflow-y: auto; margin-bottom: 16px;"></div>
        <div style="display: flex; gap: 12px;">
            <input type="text" id="assistantInput" style="flex: 1; padding: 14px; border-radius: 50px; border: 1px solid rgba(255,255,255,0.1); background: rgba(0,0,0,0.2); color: white;" placeholder="–°–ø—Ä–æ—Å–∏ –æ –∫–æ–¥–µ–∫—Å–µ –∏–ª–∏ –£–ö...">
            <button onclick="sendAssistantMessage()" style="width: 48px; height: 48px; border-radius: 50%; background: #333333; border: none; color: white; cursor: pointer;">‚û§</button>
        </div>
    </div>

    <script>
        // ========== –ü–û–õ–ù–ê–Ø –ë–ê–ó–ê –£–ö - 85+ –°–¢–ê–¢–ï–ô ==========
        const lawDatabase = [
            // –¢–ê–ë 1: –û–ë–©–ê–Ø –ß–ê–°–¢–¨
            { tab: 1, article: '2.5', title: '–ü–æ–∫—É—à–µ–Ω–∏–µ –Ω–∞ –ø—Ä–µ—Å—Ç—É–ø–ª–µ–Ω–∏–µ', stars: '‚Äî', penalty: '¬Ω –æ—Ç –º–∞–∫—Å. —Å—Ä–æ–∫–∞' },
            { tab: 1, article: '2.5.1', title: '–ü—Ä–∏–≥–æ—Ç–æ–≤–ª–µ–Ω–∏–µ –∫ –ø—Ä–µ—Å—Ç—É–ø–ª–µ–Ω–∏—é', stars: '‚Äî', penalty: '¬Ω –æ—Ç –º–∞–∫—Å. —Å—Ä–æ–∫–∞' },
            { tab: 1, article: '5.1', title: '–ü—Ä–∏–º–∏—Ä–µ–Ω–∏–µ —Å –ø–æ—Ç–µ—Ä–ø–µ–≤—à–∏–º', stars: '‚Äî', penalty: '–û—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏–µ' },
            { tab: 1, article: '5.2', title: '–°—Ä–æ–∫ –¥–∞–≤–Ω–æ—Å—Ç–∏ (7 –¥–Ω–µ–π)', stars: '‚Äî', penalty: '–û—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏–µ' },
            { tab: 1, article: '5.4', title: '–î–æ–±—Ä–æ–≤–æ–ª—å–Ω–∞—è —Å–¥–∞—á–∞', stars: '‚Äî', penalty: '–û—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏–µ' },
            { tab: 1, article: '5.5', title: '–ù–∞—Ä–∫–æ—Ç–∏–∫–∏ –¥–æ 5 –≥—Ä', stars: '‚Äî', penalty: '–ò–∑—ä—è—Ç–∏–µ –±–µ–∑ —Å—Ä–æ–∫–∞' },
            { tab: 1, article: '5.5.2.2', title: '1 —Å–µ–º—è Green = 5 –≥—Ä', stars: '‚Äî', penalty: '‚Äî' },
            { tab: 1, article: '5.6', title: '1 –∫—É—Å—Ç Green', stars: '‚Äî', penalty: '–ò–∑—ä—è—Ç–∏–µ –±–µ–∑ —Å—Ä–æ–∫–∞' },
            { tab: 1, article: '5.7', title: '–í—ã—Ö–æ–¥ –ø–æ–¥ –∑–∞–ª–æ–≥ ‚òÖ', stars: '‚òÖ', penalty: '30.000$' },
            { tab: 1, article: '5.7', title: '–í—ã—Ö–æ–¥ –ø–æ–¥ –∑–∞–ª–æ–≥ ‚òÖ‚òÖ', stars: '‚òÖ‚òÖ', penalty: '60.000$' },
            { tab: 1, article: '5.7', title: '–í—ã—Ö–æ–¥ –ø–æ–¥ –∑–∞–ª–æ–≥ ‚òÖ‚òÖ‚òÖ', stars: '‚òÖ‚òÖ‚òÖ', penalty: '90.000$' },
            { tab: 1, article: '5.7', title: '–í—ã—Ö–æ–¥ –ø–æ–¥ –∑–∞–ª–æ–≥ ‚òÖ‚òÖ‚òÖ‚òÖ', stars: '‚òÖ‚òÖ‚òÖ‚òÖ', penalty: '125.000$' },
            { tab: 1, article: '5.7', title: '–í—ã—Ö–æ–¥ –ø–æ–¥ –∑–∞–ª–æ–≥ ‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ', stars: '‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ', penalty: '–ó–∞–ø—Ä–µ—â—ë–Ω' },
            { tab: 1, article: '5.10', title: '–°–Ω—è—Ç–∏–µ —Å—É–¥–∏–º–æ—Å—Ç–∏', stars: '‚Äî', penalty: '–ü–æ –∑–∞—è–≤–ª–µ–Ω–∏—é' },
            { tab: 1, article: '5.11', title: '–õ–∏—à–µ–Ω–∏–µ –ª–∏—Ü–µ–Ω–∑–∏–∏', stars: '‚Äî', penalty: '–ó–∞ —Ä—è–¥ —Å—Ç–∞—Ç–µ–π' },
            
            // –¢–ê–ë 2: –¢–Ø–ñ–ö–ò–ï –ü–†–ï–°–¢–£–ü–õ–ï–ù–ò–Ø
            { tab: 2, article: '6.1.1', title: '–ü–æ–±–æ–∏ —Å –ø—Ä–µ–¥–º–µ—Ç–æ–º', stars: '‚òÖ‚òÖ‚òÖ', penalty: '3 –≥–æ–¥–∞ / $35,000' },
            { tab: 2, article: '6.1.2', title: '–ü–æ–±–æ–∏ —Ä—É–∫–∞–º–∏', stars: '‚òÖ‚òÖ', penalty: '2 –≥–æ–¥–∞ / $45,000' },
            { tab: 2, article: '6.2', title: '–£–±–∏–π—Å—Ç–≤–æ', stars: '‚òÖ‚òÖ‚òÖ‚òÖ', penalty: '4 –≥–æ–¥–∞' },
            { tab: 2, article: '6.3', title: '–¢—è–∂–∫–æ–µ —É–±–∏–π—Å—Ç–≤–æ', stars: '‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ', penalty: '5 –ª–µ—Ç' },
            { tab: 2, article: '6.4', title: '–ì—Ä—É–ø–ø–æ–≤–æ–µ —É–±–∏–π—Å—Ç–≤–æ', stars: '‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ', penalty: '5 –ª–µ—Ç' },
            { tab: 2, article: '6.5', title: '–°–º–µ—Ä—Ç—å –ø–æ –Ω–µ–æ—Å—Ç–æ—Ä–æ–∂–Ω–æ—Å—Ç–∏', stars: '‚òÖ‚òÖ‚òÖ', penalty: '3 –≥–æ–¥–∞ / $35,000' },
            { tab: 2, article: '6.6', title: '–î–¢–ü —Å –≤—Ä–µ–¥–æ–º/—Å–º–µ—Ä—Ç—å—é', stars: '‚òÖ‚òÖ‚òÖ', penalty: '3 –≥–æ–¥–∞ / $35,000' },
            { tab: 2, article: '6.7.1', title: '–£–≥—Ä–æ–∑–∞ –≥–æ—Å—Å–ª—É–∂–∞—â–µ–º—É', stars: '‚òÖ‚òÖ‚òÖ‚òÖ', penalty: '4 –≥–æ–¥–∞ / $45,000' },
            { tab: 2, article: '6.7.2', title: '–£–≥—Ä–æ–∑–∞ –∑–∞–ø—É–≥–∞—Ç—å', stars: '‚òÖ‚òÖ‚òÖ', penalty: '3 –≥–æ–¥–∞ / $35,000' },
            { tab: 2, article: '6.7.3', title: '–£–≥—Ä–æ–∑–∞ —Å –æ—Ä—É–∂–∏–µ–º', stars: '‚òÖ‚òÖ‚òÖ‚òÖ', penalty: '4 –≥–æ–¥–∞ / $60,000' },
            { tab: 2, article: '6.8', title: '–ñ–µ—Å—Ç–æ–∫–æ—Å—Ç—å –∫ –∂–∏–≤–æ—Ç–Ω—ã–º', stars: '‚òÖ‚òÖ', penalty: '2 –≥–æ–¥–∞ / $25,000' },
            { tab: 2, article: '7.1', title: '–ü–æ—Ö–∏—â–µ–Ω–∏–µ —á–µ–ª–æ–≤–µ–∫–∞', stars: '‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ', penalty: '5 –ª–µ—Ç' },
            { tab: 2, article: '7.2.1', title: '–ö–ª–µ–≤–µ—Ç–∞ –≤ –°–ú–ò', stars: '‚òÖ‚òÖ', penalty: '2 –≥–æ–¥–∞ / $25,000' },
            { tab: 2, article: '7.2.2', title: '–ö–ª–µ–≤–µ—Ç–∞ —Å –æ–±–≤–∏–Ω–µ–Ω–∏–µ–º', stars: '‚òÖ‚òÖ‚òÖ', penalty: '3 –≥–æ–¥–∞ / $35,000' },
            { tab: 2, article: '7.2.3', title: '–ö–ª–µ–≤–µ—Ç–∞ –æ—Å–∫–æ—Ä–±–∏—Ç–µ–ª—å–Ω–∞—è', stars: '‚òÖ‚òÖ‚òÖ', penalty: '3 –≥–æ–¥–∞ / $35,000' },
            { tab: 2, article: '17.1', title: '–ü–æ—Å—è–≥–∞—Ç–µ–ª—å—Å—Ç–≤–æ –Ω–∞ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞', stars: '‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ', penalty: '5 –ª–µ—Ç' },
            { tab: 2, article: '17.2', title: '–ù–∞—Å–∏–ª–∏–µ –≤ –æ—Ç–Ω–æ—à–µ–Ω–∏–∏ –≤–ª–∞—Å—Ç–∏', stars: '‚òÖ‚òÖ‚òÖ‚òÖ', penalty: '4 –≥–æ–¥–∞' },
            
            // –¢–ê–ë 3: –ò–ú–£–©–ï–°–¢–í–û
            { tab: 3, article: '10.1.1', title: '–ö—Ä–∞–∂–∞ –æ—Ç $2,000', stars: '‚òÖ', penalty: '1 –≥–æ–¥ / $25,000' },
            { tab: 3, article: '10.1.2', title: '–ö—Ä–∞–∂–∞ –æ—Ç $5,000', stars: '‚òÖ‚òÖ', penalty: '2 –≥–æ–¥–∞ / $35,000' },
            { tab: 3, article: '10.1.3', title: '–ö—Ä–∞–∂–∞ –æ—Ç $10,000', stars: '‚òÖ‚òÖ‚òÖ', penalty: '3 –≥–æ–¥–∞ / $45,000' },
            { tab: 3, article: '10.1.4', title: '–ö—Ä–∞–∂–∞ –æ—Ç $30,000', stars: '‚òÖ‚òÖ‚òÖ‚òÖ', penalty: '4 –≥–æ–¥–∞ / $55,000' },
            { tab: 3, article: '10.2', title: '–ú–æ—à–µ–Ω–Ω–∏—á–µ—Å—Ç–≤–æ', stars: '‚òÖ‚òÖ', penalty: '2 –≥–æ–¥–∞ / $15,000' },
            { tab: 3, article: '10.3', title: '–ì—Ä–∞–±–µ–∂', stars: '‚òÖ‚òÖ‚òÖ', penalty: '3 –≥–æ–¥–∞ / $25,000' },
            { tab: 3, article: '10.4', title: '–†–∞–∑–±–æ–π', stars: '‚òÖ‚òÖ‚òÖ‚òÖ', penalty: '4 –≥–æ–¥–∞' },
            { tab: 3, article: '10.5.1', title: '–£–≥–æ–Ω –∞–≤—Ç–æ', stars: '‚òÖ‚òÖ‚òÖ', penalty: '3 –≥–æ–¥–∞ / $30,000' },
            { tab: 3, article: '10.5.2', title: '–£–≥–æ–Ω –≥–æ—Å. —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∞', stars: '‚òÖ‚òÖ‚òÖ‚òÖ', penalty: '4 –≥–æ–¥–∞ / $45,000' },
            { tab: 3, article: '10.6.1', title: '–£–Ω–∏—á—Ç–æ–∂–µ–Ω–∏–µ –∏–º—É—â–µ—Å—Ç–≤–∞', stars: '‚òÖ‚òÖ', penalty: '2 –≥–æ–¥–∞ / $15,000' },
            { tab: 3, article: '10.6.2', title: '–£–Ω–∏—á—Ç–æ–∂–µ–Ω–∏–µ –≥–æ—Å. –∏–º—É—â–µ—Å—Ç–≤–∞', stars: '‚òÖ‚òÖ‚òÖ‚òÖ', penalty: '4 –≥–æ–¥–∞ / $60,000' },
            { tab: 3, article: '10.6.3', title: '–ü–æ–¥–∂–æ–≥ / –≤–∑—Ä—ã–≤', stars: '‚òÖ‚òÖ‚òÖ‚òÖ', penalty: '4 –≥–æ–¥–∞ / $50,000' },
            { tab: 3, article: '10.7', title: '–í—ã–º–æ–≥–∞—Ç–µ–ª—å—Å—Ç–≤–æ', stars: '‚òÖ‚òÖ‚òÖ', penalty: '3 –≥–æ–¥–∞ / $25,000' },
            
            // –¢–ê–ë 4: –ù–ê–†–ö–û–¢–ò–ö–ò / –û–†–£–ñ–ò–ï
            { tab: 4, article: '12.7.1', title: '–ü—Ä–æ–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–µ –Ω–∞ –∑–∞–∫—Ä—ã—Ç—ã–π –æ–±—ä–µ–∫—Ç', stars: '‚òÖ‚òÖ‚òÖ‚òÖ', penalty: '4 –≥–æ–¥–∞ / $50,000' },
            { tab: 4, article: '12.7.2', title: '–ü—Ä–æ–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–µ –Ω–∞ —Ä–µ–∂–∏–º–Ω—ã–π –æ–±—ä–µ–∫—Ç', stars: '‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ', penalty: '5 –ª–µ—Ç / $75,000' },
            { tab: 4, article: '12.8.1', title: '–•—Ä–∞–Ω–µ–Ω–∏–µ –æ—Ä—É–∂–∏—è', stars: '‚òÖ‚òÖ‚òÖ‚òÖ', penalty: '4 –≥–æ–¥–∞ / $40,000' },
            { tab: 4, article: '12.8.2', title: '–û—Ä—É–∂–∏–µ –≥–æ—Å. –æ–±—Ä–∞–∑—Ü–∞', stars: '‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ', penalty: '5 –ª–µ—Ç' },
            { tab: 4, article: '12.8.3', title: '–ù–∞—Ä—É—à–µ–Ω–∏–µ –æ–±–æ—Ä–æ—Ç–∞ –æ—Ä—É–∂–∏—è', stars: '‚òÖ‚òÖ‚òÖ', penalty: '3 –≥–æ–¥–∞ / $30,000' },
            { tab: 4, article: '12.8.4', title: '–ü–æ–¥–¥–µ–ª–∫–∞ –Ω–∞–∫–ª–∞–¥–Ω–æ–π', stars: '‚òÖ‚òÖ‚òÖ', penalty: '3 –≥–æ–¥–∞ / $25,000' },
            { tab: 4, article: '12.9', title: '–í–∑—Ä—ã–≤—á–∞—Ç—ã–µ –≤–µ—â–µ—Å—Ç–≤–∞', stars: '‚òÖ‚òÖ‚òÖ‚òÖ', penalty: '4 –≥–æ–¥–∞' },
            { tab: 4, article: '12.10.1', title: '–•–∏—â–µ–Ω–∏–µ –æ—Ä—É–∂–∏—è', stars: '‚òÖ‚òÖ‚òÖ', penalty: '3 –≥–æ–¥–∞' },
            { tab: 4, article: '13.1.1', title: '–ù–∞—Ä–∫–æ—Ç–∏–∫–∏ 6‚Äì10 –≥—Ä', stars: '‚òÖ‚òÖ‚òÖ', penalty: '3 –≥–æ–¥–∞ / $50,000' },
            { tab: 4, article: '13.1.2', title: '–ù–∞—Ä–∫–æ—Ç–∏–∫–∏ 11+ –≥—Ä', stars: '‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ', penalty: '5 –ª–µ—Ç' },
            { tab: 4, article: '13.2', title: '–ü—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–æ –Ω–∞—Ä–∫–æ—Ç–∏–∫–æ–≤', stars: '‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ', penalty: '5 –ª–µ—Ç / $60,000' },
            
            // –¢–ê–ë 5: –î–û–õ–ñ–ù–û–°–¢–ù–´–ï
            { tab: 5, article: '15.1.1', title: '–ü—Ä–µ–≤—ã—à–µ–Ω–∏–µ –ø–æ–ª–Ω–æ–º–æ—á–∏–π', stars: '‚òÖ‚òÖ‚òÖ‚òÖ', penalty: '4 –≥–æ–¥–∞ / $50,000' },
            { tab: 5, article: '15.1.2', title: '–ü—Ä–µ–≤—ã—à–µ–Ω–∏–µ (—Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ)', stars: '‚òÖ‚òÖ‚òÖ‚òÖ', penalty: '4 –≥–æ–¥–∞ / $200,000' },
            { tab: 5, article: '15.1.3', title: '–ü—Ä–µ–≤—ã—à–µ–Ω–∏–µ (GOV)', stars: '‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ', penalty: '5 –ª–µ—Ç / $500,000' },
            { tab: 5, article: '15.5', title: '–ü–æ–ª—É—á–µ–Ω–∏–µ –≤–∑—è—Ç–∫–∏', stars: '‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ', penalty: '5 –ª–µ—Ç' },
            { tab: 5, article: '15.6', title: '–î–∞—á–∞ –≤–∑—è—Ç–∫–∏', stars: '‚òÖ‚òÖ‚òÖ‚òÖ', penalty: '4 –≥–æ–¥–∞ / —à—Ç—Ä–∞—Ñ √ó3' },
            { tab: 5, article: '15.7', title: '–•–∞–ª–∞—Ç–Ω–æ—Å—Ç—å', stars: '‚òÖ‚òÖ‚òÖ‚Äì‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ', penalty: '3-5 –ª–µ—Ç / $30-70k' },
            { tab: 5, article: '17.3', title: '–û—Å–∫–æ—Ä–±–ª–µ–Ω–∏–µ –≤–ª–∞—Å—Ç–∏', stars: '‚òÖ‚òÖ‚òÖ', penalty: '3 –≥–æ–¥–∞ / $20-60k' },
            
            // –¢–ê–ë 6: –ü–†–ê–í–û–°–£–î–ò–ï
            { tab: 6, article: '16.1', title: '–í–º–µ—à–∞—Ç–µ–ª—å—Å—Ç–≤–æ –≤ –ø—Ä–∞–≤–æ—Å—É–¥–∏–µ', stars: '‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ', penalty: '5 –ª–µ—Ç / $30,000' },
            { tab: 6, article: '16.2', title: '–ü—Ä–µ–ø—è—Ç—Å—Ç–≤–∏–µ –∞–¥–≤–æ–∫–∞—Ç—É', stars: '‚òÖ‚òÖ‚òÖ', penalty: '3 –≥–æ–¥–∞ / $40,000' },
            { tab: 6, article: '16.3', title: '–ü—Ä–µ–ø—è—Ç—Å—Ç–≤–∏–µ –ø—Ä–æ–∫—É—Ä–æ—Ä—É', stars: '‚òÖ‚òÖ‚òÖ‚òÖ', penalty: '4 –≥–æ–¥–∞ / $50,000' },
            { tab: 6, article: '16.4', title: '–£–≥—Ä–æ–∑–∞ —Å—É–¥—å–µ', stars: '‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ', penalty: '5 –ª–µ—Ç' },
            { tab: 6, article: '16.17', title: '–ü–æ–±–µ–≥', stars: '‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ', penalty: '5 –ª–µ—Ç / $30,000' },
            { tab: 6, article: '17.6', title: '–ù–µ–ø–æ–¥—á–∏–Ω–µ–Ω–∏–µ', stars: '‚òÖ‚òÖ‚òÖ', penalty: '3 –≥–æ–¥–∞ / $20-60k' },
            { tab: 6, article: '17.7', title: '–û—Ç–∫–∞–∑ –æ—Ç —à—Ç—Ä–∞—Ñ–∞', stars: '‚òÖ‚òÖ‚òÖ', penalty: '3 –≥–æ–¥–∞' },
            { tab: 6, article: '17.8', title: '–£–∫—Ä—ã–≤–∞—Ç–µ–ª—å—Å—Ç–≤–æ', stars: '‚òÖ‚òÖ', penalty: '2 –≥–æ–¥–∞ / $35,000' },
            { tab: 6, article: '17.10', title: '–ü–æ–º–µ—Ö–∞ –∑–∞–¥–µ—Ä–∂–∞–Ω–∏—é', stars: '‚òÖ‚òÖ‚òÖ‚òÖ', penalty: '4 –≥–æ–¥–∞ / $60,000' },
            { tab: 6, article: '17.12', title: '–ü–æ–±–µ–≥ –ø—Ä–∏ –∑–∞–¥–µ—Ä–∂–∞–Ω–∏–∏', stars: '‚òÖ‚òÖ‚òÖ', penalty: '3 –≥–æ–¥–∞ / $25,000' },
            
            // –¢–ê–ë 7: –í–û–ï–ù–ù–´–ï
            { tab: 7, article: '12.1.1', title: '–¢–µ—Ä—Ä–æ—Ä–∏–∑–º', stars: '‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ', penalty: '10 –ª–µ—Ç' },
            { tab: 7, article: '12.3', title: '–ó–∞—Ö–≤–∞—Ç –∑–∞–ª–æ–∂–Ω–∏–∫–æ–≤', stars: '‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ', penalty: '5 –ª–µ—Ç' },
            { tab: 7, article: '14.1', title: '–ü–æ—Å—è–≥–∞—Ç–µ–ª—å—Å—Ç–≤–æ –Ω–∞ –≥–æ—Å. –¥–µ—è—Ç–µ–ª—è', stars: '‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ', penalty: '5 –ª–µ—Ç' },
            { tab: 7, article: '14.2.1', title: '–í–æ–æ—Ä—É–∂–µ–Ω–Ω—ã–π –º—è—Ç–µ–∂', stars: '‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ', penalty: '5 –ª–µ—Ç' },
            { tab: 7, article: '18.1', title: '–ù–µ–∏—Å–ø–æ–ª–Ω–µ–Ω–∏–µ –≤–æ–µ–Ω–Ω–æ–≥–æ –ø—Ä–∏–∫–∞–∑–∞', stars: '‚òÖ‚òÖ‚òÖ', penalty: '3 –≥–æ–¥–∞ / $30,000' },
            { tab: 7, article: '18.3', title: '–î–µ–∑–µ—Ä—Ç–∏—Ä—Å—Ç–≤–æ', stars: '‚òÖ‚òÖ‚òÖ', penalty: '3 –≥–æ–¥–∞ / $25,000' }
        ];

        // ========== –ó–í–Å–ó–î–ù–û–ï –ù–ï–ë–û ==========
        const canvas = document.getElementById('starfield');
        const ctx = canvas.getContext('2d');
        let stars = [];
        let mouseX = 0, mouseY = 0;

        function initStars() {
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;
            stars = [];
            for (let i = 0; i < 200; i++) {
                stars.push({
                    x: Math.random() * canvas.width,
                    y: Math.random() * canvas.height,
                    size: Math.random() * 2 + 0.5,
                    baseX: 0,
                    baseY: 0
                });
            }
        }

        function drawStars() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            stars.forEach(star => {
                if (star.baseX === 0) {
                    star.baseX = star.x;
                    star.baseY = star.y;
                }
                const dx = mouseX - star.x;
                const dy = mouseY - star.y;
                const dist = Math.sqrt(dx * dx + dy * dy);
                if (dist < 200) {
                    star.x += (dx / (dist + 1)) * 0.2;
                    star.y += (dy / (dist + 1)) * 0.2;
                }
                star.x += (star.baseX - star.x) * 0.01;
                star.y += (star.baseY - star.y) * 0.01;
                ctx.beginPath();
                ctx.arc(star.x, star.y, star.size, 0, Math.PI * 2);
                ctx.fillStyle = 'rgba(255,255,255,0.8)';
                ctx.fill();
            });
            requestAnimationFrame(drawStars);
        }

        window.addEventListener('mousemove', (e) => { mouseX = e.clientX; mouseY = e.clientY; });
        window.addEventListener('resize', initStars);

        // ========== –ó–ê–ì–†–£–ó–ö–ê –¢–ê–ë–õ–ò–¶ ==========
        function initTables() {
            for (let tabId = 1; tabId <= 7; tabId++) {
                const tbody = document.getElementById(`table${tabId}-body`);
                if (tbody) {
                    const tabLaws = lawDatabase.filter(law => law.tab === tabId);
                    tbody.innerHTML = tabLaws.map(law => `
                        <tr>
                            <td>${law.article}</td>
                            <td data-tooltip="${law.title}">${law.title}</td>
                            <td class="stars">${law.stars}</td>
                            <td>${law.penalty}</td>
                            <td><span class="bookmark-star" onclick="toggleFavorite('${law.article}', '${law.title}', '${law.stars}', '${law.penalty}')">‚òÜ</span></td>
                        </tr>
                    `).join('');
                }
            }
        }

        // ========== –ü–û–ò–°–ö ==========
        function searchArticles() {
            const searchText = document.getElementById('searchInput').value.toLowerCase().trim();
            let totalResults = 0;
            
            for (let i = 1; i <= 7; i++) {
                const table = document.getElementById('table' + i);
                if (!table) continue;
                const rows = table.querySelectorAll('tbody tr');
                let tableResults = 0;
                rows.forEach(row => {
                    const text = row.textContent.toLowerCase();
                    if (text.includes(searchText)) {
                        row.style.display = '';
                        tableResults++;
                        totalResults++;
                    } else {
                        row.style.display = 'none';
                    }
                });
                document.getElementById('tab' + i).style.display = tableResults > 0 ? 'block' : 'none';
            }
            
            const resultsCount = document.getElementById('resultsCount');
            if (searchText) {
                resultsCount.textContent = totalResults > 0 ? `üîç –ù–∞–π–¥–µ–Ω–æ: ${totalResults}` : 'üîç –ù–∏—á–µ–≥–æ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ';
                resultsCount.style.display = 'inline-block';
            } else {
                resultsCount.style.display = 'none';
            }
        }

        function clearSearch() {
            document.getElementById('searchInput').value = '';
            document.getElementById('resultsCount').style.display = 'none';
            for (let i = 1; i <= 7; i++) {
                const table = document.getElementById('table' + i);
                if (table) {
                    table.querySelectorAll('tbody tr').forEach(row => row.style.display = '');
                }
                document.getElementById('tab' + i).style.display = i === 1 ? 'block' : 'none';
            }
            showTab(1);
        }

        // ========== –ó–ê–ö–õ–ê–î–ö–ò ==========
        let favorites = JSON.parse(localStorage.getItem('reznovFavorites')) || [];
        function toggleFavorite(article, violation, stars, penalty) {
            const star = event.currentTarget;
            const index = favorites.findIndex(f => f.article === article);
            if (index === -1) {
                favorites.push({ article, violation, stars, penalty });
                star.textContent = '‚≠ê';
                star.classList.add('active');
            } else {
                favorites.splice(index, 1);
                star.textContent = '‚òÜ';
                star.classList.remove('active');
            }
            localStorage.setItem('reznovFavorites', JSON.stringify(favorites));
            updateFavoritesTab();
        }
        function updateFavoritesTab() {
            const tbody = document.getElementById('favoritesBody');
            if (tbody) {
                tbody.innerHTML = favorites.map(f => `<tr><td>${f.article}</td><td>${f.violation}</td><td>${f.stars}</td><td>${f.penalty}</td><td><span class="bookmark-star active" onclick="toggleFavorite('${f.article}', '${f.violation}', '${f.stars}', '${f.penalty}')">‚≠ê</span></td></tr>`).join('');
            }
        }

        // ========== –≠–ö–ó–ê–ú–ï–ù LSPD ==========
        let lspdExam = { current: 0, score: 0, questions: [
            { question: '–ö–∞–∫–æ–µ –Ω–∞–∫–∞–∑–∞–Ω–∏–µ –∑–∞ —É–±–∏–π—Å—Ç–≤–æ (—Å—Ç. 6.2)?', options: ['3 –≥–æ–¥–∞', '4 –≥–æ–¥–∞', '5 –ª–µ—Ç', '6 –ª–µ—Ç'], correct: 1 },
            { question: '–°–∫–æ–ª—å–∫–æ –≥—Ä–∞–º–º –Ω–∞—Ä–∫–æ—Ç–∏–∫–æ–≤ –º–æ–∂–Ω–æ —Ö—Ä–∞–Ω–∏—Ç—å –±–µ–∑ –Ω–∞–∫–∞–∑–∞–Ω–∏—è?', options: ['3 –≥—Ä', '5 –≥—Ä', '7 –≥—Ä', '10 –≥—Ä'], correct: 1 },
            { question: '–ö–∞–∫–æ–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç —Ä–æ–∑—ã—Å–∫–∞ —É —Å—Ç. 17.6?', options: ['‚òÖ‚òÖ', '‚òÖ‚òÖ‚òÖ', '‚òÖ‚òÖ‚òÖ‚òÖ', '‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ'], correct: 1 },
            { question: '–ß—Ç–æ –≥—Ä–æ–∑–∏—Ç –∑–∞ —É–≥–æ–Ω –∞–≤—Ç–æ?', options: ['2 –≥–æ–¥–∞', '3 –≥–æ–¥–∞', '4 –≥–æ–¥–∞', '5 –ª–µ—Ç'], correct: 1 },
            { question: '–ö–∞–∫–∞—è —Å—Ç–∞—Ç—å—è –∑–∞ —Ö—Ä–∞–Ω–µ–Ω–∏–µ –æ—Ä—É–∂–∏—è?', options: ['12.7.1', '12.8.1', '12.9', '13.1.1'], correct: 1 }
        ]};

        function loadLSPDQuestion() {
            if (lspdExam.current < lspdExam.questions.length) {
                const q = lspdExam.questions[lspdExam.current];
                let html = `<div style="margin-bottom: 16px;">${lspdExam.current + 1}. ${q.question}</div>`;
                html += '<div style="display: grid; grid-template-columns: 1fr 1fr; gap: 12px;">';
                q.options.forEach((opt, index) => {
                    html += `<div class="exam-option" onclick="checkLSPDAnswer(this, ${index}, ${q.correct})">${opt}</div>`;
                });
                html += '</div><div id="lspdFeedback" style="margin-top: 16px;"></div>';
                document.getElementById('lspdExamArea').innerHTML = html;
            } else {
                document.getElementById('lspdExamArea').innerHTML = `
                    <div style="text-align: center; padding: 20px;">
                        <span style="font-size: 48px;">üéâ</span>
                        <h3 style="margin: 16px 0;">–≠–∫–∑–∞–º–µ–Ω —Å–¥–∞–Ω!</h3>
                        <p style="font-size: 18px;">–†–µ–∑—É–ª—å—Ç–∞—Ç: ${lspdExam.score}/${lspdExam.questions.length}</p>
                    </div>
                `;
                lspdExam.current = 0;
                lspdExam.score = 0;
            }
        }

        function checkLSPDAnswer(element, selected, correct) {
            const options = document.querySelectorAll('.exam-option');
            options.forEach(opt => opt.style.pointerEvents = 'none');
            if (selected === correct) {
                element.classList.add('correct');
                lspdExam.score++;
                document.getElementById('lspdFeedback').innerHTML = '‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ!';
            } else {
                element.classList.add('wrong');
                options[correct].classList.add('correct');
                document.getElementById('lspdFeedback').innerHTML = `‚ùå –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ. –û—Ç–≤–µ—Ç: ${lspdExam.questions[lspdExam.current].options[correct]}`;
            }
            lspdExam.current++;
            setTimeout(loadLSPDQuestion, 1500);
        }

        function resetLSPDExam() {
            lspdExam.current = 0;
            lspdExam.score = 0;
            loadLSPDQuestion();
        }

        function takeOath() {
            document.getElementById('oathMessage').innerHTML = '‚úÖ –ü—Ä–∏—Å—è–≥–∞ –ø—Ä–∏–Ω—è—Ç–∞! –î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ LSPD.';
        }

        // ========== –ö–û–ù–°–¢–†–£–ö–¢–û–† ==========
        let protocolArticles = [];
        function addArticleToProtocol() {
            const article = prompt("–í–≤–µ–¥–∏ –Ω–æ–º–µ—Ä —Å—Ç–∞—Ç—å–∏:");
            if (article) {
                const law = lawDatabase.find(l => l.article === article);
                if (law) {
                    protocolArticles.push(law);
                    document.getElementById('protocolArticlesList').innerHTML = protocolArticles.map((l, i) => 
                        `<span style="background: rgba(255,255,255,0.1); border: 1px solid #666; border-radius: 30px; padding: 6px 16px; display: flex; align-items: center; gap: 8px;">
                            ${l.article} - ${l.title}
                            <button onclick="removeProtocolArticle(${i})" style="background: none; border: none; color: white; cursor: pointer;">‚úï</button>
                        </span>`
                    ).join('');
                }
            }
        }
        function removeProtocolArticle(index) {
            protocolArticles.splice(index, 1);
            document.getElementById('protocolArticlesList').innerHTML = protocolArticles.map((l, i) => 
                `<span style="background: rgba(255,255,255,0.1); border: 1px solid #666; border-radius: 30px; padding: 6px 16px; display: flex; align-items: center; gap: 8px;">
                    ${l.article} - ${l.title}
                    <button onclick="removeProtocolArticle(${i})" style="background: none; border: none; color: white; cursor: pointer;">‚úï</button>
                </span>`
            ).join('');
        }
        function generateProtocol() {
            const suspect = document.getElementById('protocolSuspect').value || '–ù–µ–∏–∑–≤–µ—Å—Ç–Ω—ã–π';
            const officer = document.getElementById('protocolOfficer').value || '–°–æ—Ç—Ä—É–¥–Ω–∏–∫';
            const output = document.getElementById('protocolOutput');
            output.style.display = 'block';
            output.textContent = `[ –ü–†–û–¢–û–ö–û–õ –ó–ê–î–ï–†–ñ–ê–ù–ò–Ø ]
–ó–∞–¥–µ—Ä–∂–∞–Ω–Ω—ã–π: ${suspect}
–ó–∞–¥–µ—Ä–∂–∞–ª: ${officer}
–î–∞—Ç–∞: ${new Date().toLocaleDateString()}
–í—Ä–µ–º—è: ${new Date().toLocaleTimeString()}

–ò–Ω–∫—Ä–∏–º–∏–Ω–∏—Ä—É–µ–º—ã–µ —Å—Ç–∞—Ç—å–∏:
${protocolArticles.map(l => `‚Ä¢ ${l.article} - ${l.title} (${l.penalty})`).join('\n') || '‚Ä¢ –ù–µ –≤—ã–±—Ä–∞–Ω–æ'}

–ü—Ä–∞–≤–∞ –ú–∏—Ä–∞–Ω–¥—ã –∑–∞—á–∏—Ç–∞–Ω—ã. –ù–∞—Ä—É—á–Ω–∏–∫–∏ –Ω–∞–¥–µ—Ç—ã.`;
        }

        // ========== –ê–°–°–ò–°–¢–ï–ù–¢ ==========
        let chatHistory = JSON.parse(localStorage.getItem('reznovChatHistory')) || [];
        function toggleAssistant() {
            const modal = document.getElementById('assistantModal');
            modal.style.display = modal.style.display === 'none' ? 'block' : 'none';
        }
        function sendAssistantMessage() {
            const input = document.getElementById('assistantInput');
            const question = input.value.trim();
            if (!question) return;
            addMessageToChat('user', question);
            input.value = '';
            let answer = '–Ø –Ω–µ –ø–æ–Ω—è–ª –≤–æ–ø—Ä–æ—Å. –°–ø—Ä–æ—Å–∏ –ø—Ä–æ –∫–æ–¥–µ–∫—Å —á–µ—Å—Ç–∏ –∏–ª–∏ —Å—Ç–∞—Ç—å–∏ –£–ö.';
            if (question.includes('–∫–æ–¥–µ–∫—Å')) answer = '–ö–æ–¥–µ–∫—Å —á–µ—Å—Ç–∏ LSPD ‚Äî 10 –∑–∞–ø–æ–≤–µ–¥–µ–π –æ—Ñ–∏—Ü–µ—Ä–∞.';
            if (question.includes('—ç–∫–∑–∞–º–µ–Ω')) answer = '–≠–∫–∑–∞–º–µ–Ω –Ω–∞ –∑–Ω–∞–Ω–∏–µ –£–ö ‚Äî 5 –≤–æ–ø—Ä–æ—Å–æ–≤. –£–¥–∞—á–∏!';
            setTimeout(() => addMessageToChat('assistant', answer), 500);
        }
        function addMessageToChat(sender, content) {
            const chat = document.getElementById('chatHistory');
            const msg = document.createElement('div');
            msg.style.marginBottom = '12px';
            msg.innerHTML = sender === 'user' 
                ? `<div style="text-align: right;"><span style="background: #333; padding: 8px 16px; border-radius: 18px; display: inline-block;">${content}</span></div>`
                : `<div style="display: flex; gap: 8px;"><span style="background: #444; padding: 8px 16px; border-radius: 18px;">ü§ñ ${content}</span></div>`;
            chat.appendChild(msg);
            chat.scrollTop = chat.scrollHeight;
            chatHistory.push({ sender, content });
            localStorage.setItem('reznovChatHistory', JSON.stringify(chatHistory.slice(-20)));
        }
        function loadChatHistory() {
            const chat = document.getElementById('chatHistory');
            chat.innerHTML = '';
            if (chatHistory.length === 0) {
                chat.innerHTML = '<div style="color: #888; padding: 12px;">ü§ñ –ü—Ä–∏–≤–µ—Ç! –Ø –ø–æ–º–æ—â–Ω–∏–∫ LSPD. –°–ø—Ä–æ—Å–∏ –ø—Ä–æ –∫–æ–¥–µ–∫—Å —á–µ—Å—Ç–∏ –∏–ª–∏ —ç–∫–∑–∞–º–µ–Ω.</div>';
            }
        }

        // ========== –¢–ï–ú–ê ==========
        function toggleTheme() {
            const body = document.body;
            const icon = document.getElementById('themeIcon');
            if (body.classList.contains('dark-theme')) {
                body.classList.remove('dark-theme');
                body.classList.add('light-theme');
                icon.textContent = '‚òÄÔ∏è';
            } else {
                body.classList.remove('light-theme');
                body.classList.add('dark-theme');
                icon.textContent = 'üåô';
            }
        }

        // ========== –ù–ê–í–ò–ì–ê–¶–ò–Ø ==========
        function showTab(tabId) {
            for (let i = 1; i <= 10; i++) {
                const tab = document.getElementById('tab' + i);
                if (tab) tab.style.display = i === tabId ? 'block' : 'none';
            }
            document.querySelectorAll('.tab').forEach((tab, i) => {
                tab.classList.toggle('active', i + 1 === tabId);
            });
        }

        // ========== –ü–ê–†–û–õ–¨ ==========
        function checkPassword() {
            if (document.getElementById('passwordInput').value === 'reznov123') {
                document.getElementById('loginScreen').style.display = 'none';
                document.getElementById('mainContent').style.display = 'block';
                initStars();
                drawStars();
                initTables();
                updateFavoritesTab();
                loadChatHistory();
                loadLSPDQuestion();
                showTab(1);
            } else {
                document.getElementById('loginError').style.display = 'block';
                setTimeout(() => document.getElementById('loginError').style.display = 'none', 2000);
            }
        }

        // ========== –ì–û–õ–û–°–û–í–û–ô –ü–û–ò–°–ö ==========
        function startVoiceSearch() {
            if (!('webkitSpeechRecognition' in window)) return;
            const btn = document.getElementById('voiceBtn');
            btn.classList.add('listening');
            btn.textContent = 'üé§ –°–ª—É—à–∞—é...';
            const recognition = new webkitSpeechRecognition();
            recognition.lang = 'ru-RU';
            recognition.onresult = (e) => {
                document.getElementById('searchInput').value = e.results[0][0].transcript;
                searchArticles();
                btn.classList.remove('listening');
                btn.textContent = 'üé§ –ì–æ–ª–æ—Å';
            };
            recognition.start();
        }

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –≥–æ–ª–æ—Å–æ–≤
        if ('speechSynthesis' in window) {
            window.speechSynthesis.onvoiceschanged = function() {
                const voiceSelect = document.getElementById('voiceSelect');
                const voices = window.speechSynthesis.getVoices();
                const russianVoices = voices.filter(v => v.lang.includes('ru'));
                voiceSelect.innerHTML = russianVoices.map(v => `<option value="${v.voiceURI}">${v.name}</option>`).join('');
            };
        }
    </script>
</body>
</html>
